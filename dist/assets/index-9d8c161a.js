import{r as _,a as Ge,R as Oe}from"./vendor-57209f9c.js";import{c as he,R as ne,B as fe,C as le,X as ie,Y as ce,T as oe,a as be,A as He,b as Ze,d as Xe,e as Je,L as Qe,f as et,p as tt,g as st,h as at,i as rt,j as nt,P as lt,k as it,l as ct}from"./charts-60ed958c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Ue={exports:{}},pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=_,dt=Symbol.for("react.element"),mt=Symbol.for("react.fragment"),ut=Object.prototype.hasOwnProperty,xt=ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ht={key:!0,ref:!0,__self:!0,__source:!0};function ze(r,t,n){var s,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)ut.call(t,s)&&!ht.hasOwnProperty(s)&&(a[s]=t[s]);if(r&&r.defaultProps)for(s in t=r.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:dt,type:r,key:i,ref:l,props:a,_owner:xt.current}}pe.Fragment=mt;pe.jsx=ze;pe.jsxs=ze;Ue.exports=pe;var e=Ue.exports,je={},Me=Ge;je.createRoot=Me.createRoot,je.hydrateRoot=Me.hydrateRoot;function de(r,t){if(!r&&t===0)return"unknown";const n=(r||"").toLowerCase();return n.includes("deposit")||n.includes("in")||n.includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ")?"Deposit":n.includes("withdraw")||n.includes("out")||n.includes("–≤—ã–≤–æ–¥")?"Withdraw":t>0?"Deposit":t<0?"Withdraw":"unknown"}function Te(r){const t=(r||"").toLowerCase();return t==="success"?"completed":t==="failed"||t==="error"?"failed":t==="pending"||t==="processing"||t==="in progress"?"pending":t==="cancelled"||t==="canceled"?"canceled":t}function pt(r,t,n="merchant"){var s,a,i,l,x,h;if(console.log("üîÑ NORMALIZING DATA - Type:",n,"Records:",r.length),n==="platform")return console.log("üè¶ Normalizing platform data:",r.length,"records"),r.length>0&&console.log("üîç First platform record raw:",r[0]),r.map(m=>({userId:m["User ID"]||"",operationId:m["Operation ID"]||"",status:m.Status||"",foreignOperationId:m["Foreign Operation Id"]||"",clientOperationId:m["Client Operation ID"]||"",referenceId:m["Reference ID"]||"",createdAt:m["Created At"]||"",method:m.Method||"",initialAmount:parseFloat((m["Initial Amount"]||"0").replace(",","."))||0,initialCurrency:m["Initial Currency"]||"TRY",resultAmount:parseFloat((m["Result Amount"]||"0").replace(",","."))||0,resultCurrency:m["Result Currency"]||"TRY",code:m.Code||"",message:m.Message||"",details:m.Details||"",paymentChannelName:m["Payment Channel Name"]||"",originalErrorMessage:m["Original Error Message"]||"",endpoint:m.Endpoint||"",id:m["Foreign Operation Id"]||m["Operation ID"]||"",trackingId:m["Foreign Operation Id"]||"",amount:parseFloat((m["Result Amount"]||m["Initial Amount"]||"0").replace(",","."))||0,currency:m["Result Currency"]||m["Initial Currency"]||"TRY",debugInfo:{hasForeignOpId:!!m["Foreign Operation Id"],hasResultAmount:!!m["Result Amount"],hasInitialAmount:!!m["Initial Amount"],originalStatus:m.Status},type:de(m.Method,parseFloat((m["Result Amount"]||m["Initial Amount"]||"0").replace(",","."))),transactionType:de(m.Method,parseFloat((m["Result Amount"]||m["Initial Amount"]||"0").replace(",","."))),normalizedStatus:Te(m.Status||""),isCompleted:(m.Status||"").toLowerCase()==="success",isFailed:(m.Status||"").toLowerCase()==="failed"||(m.Status||"").toLowerCase()==="error",dataSource:"platform",originalData:m}));if(n==="merchant"){console.log("üè™ Normalizing merchant data:",r.length,"records"),r.length>0&&console.log("üîç First merchant record raw:",r[0]);const m=r.map(c=>({id:c["Tracking Id"]||c["–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è"]||c["Tracking ID"]||c.ID||"",status:c.Status||c.–°—Ç–∞—Ç—É—Å||"",amount:parseFloat((c.Amount||c["Transaction amount"]||c["–°—É–º–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"]||c.–°—É–º–º–∞||"0").replace(",","."))||0,type:c.Type||c.–¢–∏–ø||"",company:c.Company||c.–ö–æ–º–ø–∞–Ω–∏—è||"",fee:parseFloat((c.Fee||c.–ö–æ–º–∏—Å—Å–∏—è||"0").replace(",","."))||0,feeRatio:c["Fee Ratio"]||"0%",transactionType:c.Type||c.–¢–∏–ø||"",isDeposit:(c.Type||c.–¢–∏–ø||"").toLowerCase()==="deposit",isWithdraw:(c.Type||c.–¢–∏–ø||"").toLowerCase()==="withdraw",userName:c["User name"]||c["–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"]||c.Username||c.–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å||"",userId:c["User ƒ±d"]||c["User id"]||c["–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"]||c["User ID"]||"",fullName:c.Name||c.–ò–º—è||c["Full Name"]||"",createdAt:c["Creation time"]||c["–í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è"]||c["Created At"]||c["–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è"]||"",processedAt:c["Processed time"]||c["–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏"]||c["Processed At"]||"",paymentMethod:c["Payment method"]||c["–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã"]||c["Payment Method"]||c["–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã"]||"",paymentGateway:c["Payment Gateway"]||"",recipientName:c["Receiver Account Name"]||c["–ò–º—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è"]||c["Recipient Name"]||"",recipientAccount:c["Receiver Account Number"]||c["–ù–æ–º–µ—Ä —Å—á–µ—Ç–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è"]||c["Recipient Account"]||"",hash:c["Hash code"]||c["–•—ç—à-–∫–æ–¥"]||c.Hash||"",ipAddress:c["Client Ip address"]||c["IP –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞"]||c["IP Address"]||"",receipt:c.Receipt||c.–ö–≤–∏—Ç–∞–Ω—Ü–∏—è||"",explanation:c.Explanation||c.–û–±—ä—è—Å–Ω–µ–Ω–∏–µ||"",explanationType:c["[Explanation type]"]||c["Explanation Type"]||"",linkId:c["Reference Id"]||c["–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Å—ã–ª–∫–∏"]||c["Link ID"]||"",isCompleted:(c.Status||c.–°—Ç–∞—Ç—É—Å||"").toLowerCase()==="completed",isCanceled:(c.Status||c.–°—Ç–∞—Ç—É—Å||"").toLowerCase()==="canceled",isFailed:(c.Status||c.–°—Ç–∞—Ç—É—Å||"").toLowerCase()==="failed",amountFormatted:new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(parseFloat((c.Amount||c["Transaction amount"]||c["–°—É–º–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"]||c.–°—É–º–º–∞||"0").replace(",","."))||0),feeFormatted:new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(parseFloat((c.Fee||c.–ö–æ–º–∏—Å—Å–∏—è||"0").replace(",","."))||0),trackingId:c["Tracking Id"]||c["–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è"]||c["Tracking ID"]||c.ID||"",normalizedStatus:(c.Status||c.–°—Ç–∞—Ç—É—Å||"").toLowerCase(),dataSource:"merchant",originalData:c}));return console.log("üè™ Merchant normalization complete. Sample record:",m[0]),console.log("üè™ Key fields for reconciliation:"),console.log("üè™ - trackingId:",(s=m[0])==null?void 0:s.trackingId),console.log("üè™ - status:",(a=m[0])==null?void 0:a.status),console.log("üè™ - normalizedStatus:",(i=m[0])==null?void 0:i.normalizedStatus),m}else if(n==="payshack"){console.log("üè™ Normalizing Payshack data:",r.length,"records"),r.length>0&&console.log("üîç First Payshack record raw:",r[0]);const m=r.map(c=>({id:c["Transaction Id"]||c["Transaction ID"]||"",orderId:c["Order Id"]||c["Order ID"]||"",transactionId:c["Transaction Id"]||c["Transaction ID"]||"",utr:c.UTR||"",amount:parseFloat((c.Amount||"0").replace(",","."))||0,status:c.Status||"",remarks:c.Remarks||"",createdAt:c["Created Date"]||c["Created date"]||"",trackingId:c["Transaction Id"]||c["Transaction ID"]||"",normalizedStatus:Te(c.Status||""),isCompleted:(c.Status||"").toLowerCase()==="success",isFailed:(c.Status||"").toLowerCase()==="failed",isInitiated:(c.Status||"").toLowerCase()==="initiated",type:de("",parseFloat((c.Amount||"0").replace(",","."))),transactionType:de("",parseFloat((c.Amount||"0").replace(",","."))),isDeposit:parseFloat((c.Amount||"0").replace(",","."))>0,isWithdraw:parseFloat((c.Amount||"0").replace(",","."))<0,amountFormatted:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(parseFloat((c.Amount||"0").replace(",","."))||0),currency:"INR",company:"Payshack",paymentMethod:"UPI",dataSource:"payshack",provider:"payshack",originalData:c}));return console.log("üè™ Payshack normalization complete. Sample record:",m[0]),console.log("üè™ Key fields for reconciliation:"),console.log("üè™ - transactionId:",(l=m[0])==null?void 0:l.transactionId),console.log("üè™ - status:",(x=m[0])==null?void 0:x.status),console.log("üè™ - normalizedStatus:",(h=m[0])==null?void 0:h.normalizedStatus),m}else return console.log("‚ö†Ô∏è Unknown data type, using fallback normalization"),r}function gt(r){const t=r.join(" ").toLowerCase();console.log("üîç Detecting data format from headers:",t);const n=["user id","operation id","status","foreign operation id","client operation id","reference id","created at","method","initial amount","initial currency","result amount","result currency","code","message","details","payment channel name","original error message","endpoint"],s=["tracking id","reference id","status","payment method","payment gateway","amount","transaction amount","type","company","fee","fee ratio","name","user ƒ±d","user name","creation time","processed time","receiver account name","receiver account number","hash code","client ip address","receipt","explanation","[explanation type]"],a=["created date","order id","transaction id","utr","amount","status","remarks"],i=n.filter(h=>t.includes(h)).length,l=s.filter(h=>t.includes(h)).length,x=a.filter(h=>t.includes(h)).length;return console.log("üìä Platform header matches:",i,"/",n.length),console.log("üìä Optipay header matches:",l,"/",s.length),console.log("üìä Payshack header matches:",x,"/",a.length),i>Math.max(l,x)&&i>=10?(console.log("üìä Detected: Platform format (exact match)"),"platform"):x>Math.max(i,l)&&x>=5?(console.log("üìä Detected: Payshack format (exact match)"),"payshack"):l>Math.max(i,x)&&l>=10?(console.log("üìä Detected: Optipay format (exact match)"),"optipay"):t.includes("foreign operation id")||t.includes("client operation id")||t.includes("initial amount")||t.includes("result amount")?(console.log("üìä Detected: Platform format (fallback)"),"platform"):t.includes("tracking id")||t.includes("status")&&t.includes("amount")?(console.log("üìä Detected: Optipay format (fallback)"),"optipay"):t.includes("transaction id")&&t.includes("order id")?(console.log("üìä Detected: Payshack format (fallback)"),"payshack"):(console.log("üìä Default: Optipay format"),"optipay")}function ft(r,t=null){console.log("=== CSV PARSER DEBUG ==="),console.log("Raw text length:",r.length),console.log("First 500 chars:",r.substring(0,500)),console.log("Last 500 chars:",r.substring(r.length-500));try{const n=r.split(/\r?\n/).filter(p=>p.trim());if(console.log("Lines found:",n.length),n.length===0)return console.error("No lines found in CSV"),[];const s=n[0].trim();console.log("Header line:",s),console.log("Header line length:",s.length);let a=";";s.includes(";")?a=";":s.includes(",")?a=",":s.includes("	")&&(a="	"),console.log("Using delimiter:",a);const i=s.split(a).map(p=>p.trim().replace(/"/g,""));console.log("Headers count:",i.length),console.log("Headers:",i),console.log("üîç HEADER ANALYSIS FOR RECONCILIATION:"),console.log("üîç All headers (lowercase):",i.map(p=>p.toLowerCase()));const l=i.filter(p=>p.toLowerCase().includes("status")),x=i.filter(p=>p.toLowerCase().includes("id")||p.toLowerCase().includes("tracking")),h=i.filter(p=>p.toLowerCase().includes("amount"));console.log("üîç Status fields found:",l),console.log("üîç ID fields found:",x),console.log("üîç Amount fields found:",h);const m=gt(i);console.log("Detected format:",m);let c=t||m;if(n.length===2&&!t){console.log("üîç Detected file with only 2 lines, checking for platform format...");const p=i.join(" ").toLowerCase();["foreign operation id","client operation id","initial amount","result amount"].filter(k=>p.includes(k)).length>=2&&(console.log("üîç Platform keywords found, forcing platform format"),c="platform")}console.log("Final data type:",c);const A=[];if(c==="platform"&&n.length===2)if(console.log("üîß Detected platform file with single data line, processing specially..."),i.length>50){console.log("‚ö†Ô∏è Too many headers detected, likely mixed with data. Attempting to fix...");const p=["User ID","Operation ID","Status","Foreign Operation Id","Client Operation ID","Reference ID","Created At","Method","Initial Amount","Initial Currency","Result Amount","Result Currency","Code","Message","Details","Payment Channel Name","Original Error Message","Endpoint"],N=n[1].trim();console.log("Data line length:",N.length);const f=N.split(a).map(y=>y.trim().replace(/"/g,""));console.log("Total values found:",f.length);const k=p;console.log("Using correct headers count:",k.length);const w=k.length,I=Math.floor(f.length/w);console.log("Values per record:",w),console.log("Calculated record count:",I);const o=f.length%w;o>0&&console.warn("‚ö†Ô∏è Warning: Values count is not perfectly divisible by headers count. Remainder:",o);for(let y=0;y<I;y++){const j={},v=y*w;k.forEach((d,C)=>{const T=v+C;T<f.length?j[d]=f[T]||"":(j[d]="",console.warn("‚ö†Ô∏è Value index out of bounds:",T,"for header:",d))}),A.push(j)}console.log("Created records from single line:",A.length),A.length>0&&(console.log("First record sample:",A[0]),A.length>1&&console.log("Second record sample:",A[1]))}else{const p=n[1].trim();console.log("Data line length:",p.length);const N=p.split(a).map(I=>I.trim().replace(/"/g,""));console.log("Total values found:",N.length),console.log("Expected headers count:",i.length);const f=i.length,k=Math.floor(N.length/f);console.log("Values per record:",f),console.log("Calculated record count:",k);const w=N.length%f;w>0&&console.warn("‚ö†Ô∏è Warning: Values count is not perfectly divisible by headers count. Remainder:",w);for(let I=0;I<k;I++){const o={},y=I*f;i.forEach((j,v)=>{const d=y+v;d<N.length?o[j]=N[d]||"":(o[j]="",console.warn("‚ö†Ô∏è Value index out of bounds:",d,"for header:",j))}),A.push(o)}console.log("Created records from single line:",A.length),A.length>0&&(console.log("First record sample:",A[0]),A.length>1&&console.log("Second record sample:",A[1]))}else if(c==="platform"&&n.length>2){console.log("üîß Processing platform file with normal structure...");for(let p=1;p<n.length;p++){const N=n[p].trim();if(!N)continue;const f=N.split(a).map(w=>w.trim().replace(/"/g,"")),k={};i.forEach((w,I)=>{k[w]=f[I]||""}),A.push(k)}console.log("Processed platform records:",A.length)}else for(let p=1;p<n.length;p++){const N=n[p].trim();if(!N)continue;const f=N.split(a).map(w=>w.trim().replace(/"/g,"")),k={};i.forEach((w,I)=>{k[w]=f[I]||""}),A.push(k)}console.log("Parsed data count:",A.length);const u=pt(A,m,c);console.log("Normalized data count:",u.length);const b={};return u.forEach(p=>{const N=p.status||"empty";b[N]=(b[N]||0)+1}),console.log("Status distribution:",b),u}catch(n){return console.error("Error parsing CSV:",n),[]}}function bt(r,t="merchant"){console.log("Calculating metrics for data:",r.length,"rows, type:",t);const n=r.length,s=r.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).length,a=r.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="failed":v==="fail"}).length,i=r.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="canceled":!1}).length,l=r.filter(j=>j.isDeposit),x=r.filter(j=>j.isWithdraw),h={total:l.length,successful:l.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).length,amount:l.reduce((j,v)=>j+(parseFloat(v.amount)||0),0),successfulAmount:l.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).reduce((j,v)=>j+(parseFloat(v.amount)||0),0)},m={total:x.length,successful:x.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).length,amount:x.reduce((j,v)=>j+(parseFloat(v.amount)||0),0),successfulAmount:x.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).reduce((j,v)=>j+(parseFloat(v.amount)||0),0)};console.log("Status breakdown:",{total:n,successful:s,failed:a,canceled:i}),console.log("First 3 rows status check:",r.slice(0,3).map(j=>({status:j.status,normalizedStatus:j.status?j.status.toLowerCase():"",isCompleted:t==="merchant"?j.status?j.status.toLowerCase()==="completed":!1:j.status?j.status.toLowerCase()==="success":!1})));const c=n>0?s/n*100:0,A=r.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="completed":v==="success"}).reduce((j,v)=>{const d=parseFloat(v.amount)||0;return j+d},0),u=r.reduce((j,v)=>{const d=parseFloat(v.amount)||0;return j+d},0),b=r.filter(j=>{const v=j.status?j.status.toLowerCase():"";return t==="merchant"?v==="failed"||v==="canceled":v==="fail"}).reduce((j,v)=>{const d=parseFloat(v.amount)||0;return j+d},0),p=r.reduce((j,v)=>{const d=parseFloat(v.fee)||0;return j+d},0),N=n>0?u/n:0,f=r.map(j=>parseFloat(j.amount)||0),k=f.length>0?Math.max(...f):0,w=f.length>0?Math.min(...f):0,I={};t==="merchant"&&r.forEach(j=>{const v=j.company||"Unknown";I[v]||(I[v]={total:0,completed:0,failed:0,canceled:0,revenue:0}),I[v].total++,I[v].revenue+=parseFloat(j.amount)||0;const d=j.status?j.status.toLowerCase():"";d==="completed"?I[v].completed++:d==="failed"?I[v].failed++:d==="canceled"&&I[v].canceled++});const o={};r.forEach(j=>{const v=j.paymentMethod||"Unknown";o[v]||(o[v]={total:0,completed:0,failed:0,canceled:0}),o[v].total++;const d=j.status?j.status.toLowerCase():"";t==="merchant"?d==="completed"?o[v].completed++:d==="failed"?o[v].failed++:d==="canceled"&&o[v].canceled++:d==="success"?o[v].completed++:d==="fail"&&o[v].failed++});const y={total:n,successful:s,failed:a,canceled:i,conversionRate:c,successfulRevenue:A,lostRevenue:b,totalAmount:u,totalFees:p,averageAmount:N,maxAmount:k,minAmount:w,companyStats:I,paymentMethodStats:o,depositMetrics:h,withdrawalMetrics:m,dataType:t};return console.log("Calculated metrics:",y),y}function yt(r,t){const n=[],{dataType:s}=t;if(t.conversionRate<50?n.push({type:"warning",icon:"‚ö†Ô∏è",text:`–ù–∏–∑–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è: ${t.conversionRate.toFixed(1)}%. –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–æ–≤.`}):t.conversionRate>80&&n.push({type:"success",icon:"üéâ",text:`–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è: ${t.conversionRate.toFixed(1)}%. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.`}),s==="merchant"&&t.canceled>0){const l=t.canceled/t.total*100;n.push({type:"info",icon:"‚è∏Ô∏è",text:`${t.canceled} –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (${l.toFixed(1)}%). –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–æ–∏—Ç —É–ª—É—á—à–∏—Ç—å UX.`})}if(s==="merchant"&&Object.keys(t.companyStats).length>0){const l=Object.entries(t.companyStats).sort(([,x],[,h])=>h.revenue-x.revenue)[0];l&&n.push({type:"info",icon:"üè¢",text:`–¢–æ–ø –∫–æ–º–ø–∞–Ω–∏—è: ${l[0]} —Å –≤—ã—Ä—É—á–∫–æ–π ${l[1].revenue.toLocaleString("tr-TR")} TRY`})}const a=Object.entries(t.paymentMethodStats).sort(([,l],[,x])=>x.total-l.total)[0];if(a){const l=a[1].completed/a[1].total*100;n.push({type:"info",icon:"üí≥",text:`–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –º–µ—Ç–æ–¥: ${a[0]} (${l.toFixed(1)}% –∫–æ–Ω–≤–µ—Ä—Å–∏—è)`})}const i=r.filter(l=>parseFloat(l.amount)>t.averageAmount*2).length;return i>0&&n.push({type:"info",icon:"üíé",text:`${i} –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≤—ã—Å–æ–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é (>${(t.averageAmount*2).toLocaleString("tr-TR",{maximumFractionDigits:0})} TRY).`}),n.push({type:"info",icon:"üí∞",text:`–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞: ${t.successfulRevenue.toLocaleString("tr-TR")} TRY, –∫–æ–º–∏—Å—Å–∏–∏: ${t.totalFees.toLocaleString("tr-TR")} TRY`}),n}function jt(r){const t={"0-500":0,"501-1000":0,"1001-2000":0,"2001-5000":0,"5000+":0};return r.forEach(n=>{const s=parseFloat(n.amount)||0;s<=500?t["0-500"]++:s<=1e3?t["501-1000"]++:s<=2e3?t["1001-2000"]++:s<=5e3?t["2001-5000"]++:t["5000+"]++}),t}function Nt(r,t="merchant"){return[{label:"0-500",min:0,max:500},{label:"501-1000",min:501,max:1e3},{label:"1001-2000",min:1001,max:2e3},{label:"2001-5000",min:2001,max:5e3},{label:"5000+",min:5001,max:1/0}].map(s=>{const a=r.filter(x=>{const h=parseFloat(x.amount)||0;return h>=s.min&&h<=s.max}),i=a.length,l=a.filter(x=>{const h=x.status?x.status.toLowerCase():"";return t==="merchant"?h==="completed":h==="success"}).length;return{range:s.label,total:i,successful:l,conversion:i>0?l/i*100:0}})}function vt(r,t="merchant"){const n={};return r.forEach(s=>{const a=s.status||"unknown";n[a]=(n[a]||0)+1}),n}function wt(r){const t={};return r.forEach(n=>{const s=n.company||"Unknown";t[s]=(t[s]||0)+1}),t}function Ct(r){const t={};return r.forEach(n=>{const s=n.paymentMethod||"Unknown";t[s]=(t[s]||0)+1}),t}function kt(r){const t={};return r.forEach(n=>{let s;n.createdAt?s=n.createdAt.split(" ")[0]:s=new Date().toISOString().split("T")[0],t[s]||(t[s]={total:0,completed:0,failed:0,canceled:0,revenue:0}),t[s].total++,t[s].revenue+=parseFloat(n.amount)||0;const a=n.status?n.status.toLowerCase():"";a==="completed"||a==="success"?t[s].completed++:a==="failed"||a==="fail"?t[s].failed++:a==="canceled"&&t[s].canceled++}),Object.entries(t).map(([n,s])=>({date:n,...s,conversionRate:s.completed/s.total*100}))}function At(r,t=10){const n={};return r.forEach(s=>{const a=s.userId||"Unknown",i=s.userName||s.fullName||"Unknown";n[a]||(n[a]={id:a,name:i,total:0,completed:0,failed:0,canceled:0,totalAmount:0}),n[a].total++,n[a].totalAmount+=parseFloat(s.amount)||0;const l=s.status?s.status.toLowerCase():"";l==="completed"||l==="success"?n[a].completed++:l==="failed"||l==="fail"?n[a].failed++:l==="canceled"&&n[a].canceled++}),Object.values(n).sort((s,a)=>a.totalAmount-s.totalAmount).slice(0,t)}function St(r){const t=[],n=r.map(i=>parseFloat(i.amount)||0),s=n.reduce((i,l)=>i+l,0)/n.length,a=Math.sqrt(n.reduce((i,l)=>i+Math.pow(l-s,2),0)/n.length);return r.forEach((i,l)=>{const x=parseFloat(i.amount)||0;x>s+2*a&&t.push({type:"high_amount",row:l+1,value:x,description:`–ù–µ–æ–±—ã—á–Ω–æ –≤—ã—Å–æ–∫–∞—è —Å—É–º–º–∞: ${x.toLocaleString("ru-RU")}`})}),r.forEach((i,l)=>{if(i.createdAt&&i.processedAt){const x=new Date(i.createdAt),m=new Date(i.processedAt)-x;m>30*60*1e3&&t.push({type:"slow_processing",row:l+1,value:m/(60*1e3),description:`–ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: ${Math.round(m/(60*1e3))} –º–∏–Ω—É—Ç`})}}),t}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var It={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(r,t)=>{const n=_.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:x="",children:h,...m},c)=>_.createElement("svg",{ref:c,...It,width:a,height:a,stroke:s,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${_t(r)}`,x].join(" "),...m},[...t.map(([A,u])=>_.createElement(A,u)),...Array.isArray(h)?h:[h]]));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=D("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=D("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=D("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=D("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=D("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=D("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=D("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=D("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=D("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=D("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=D("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=D("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=D("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=D("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=D("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=D("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=D("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=D("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=D("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=D("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Pt=({onFileUpload:r,loading:t})=>{const[n,s]=_.useState(!1),[a,i]=_.useState(null),l=_.useRef(null),x=u=>{u.preventDefault(),u.stopPropagation(),u.type==="dragenter"||u.type==="dragover"?s(!0):u.type==="dragleave"&&s(!1)},h=u=>{if(u.preventDefault(),u.stopPropagation(),s(!1),u.dataTransfer.files&&u.dataTransfer.files[0]){const b=u.dataTransfer.files[0];m(b)}},m=u=>{if(!u.name.toLowerCase().endsWith(".csv")){alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ CSV —Ñ–∞–π–ª");return}i(u),r(u)},c=u=>{u.target.files&&u.target.files[0]&&m(u.target.files[0])},A=()=>{var u;(u=l.current)==null||u.click()};return e.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[e.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-8 transition-all duration-300 ${n?"border-blue-400 bg-blue-500/10":"border-white/20 bg-white/5 hover:bg-white/10"}`,onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:h,children:[e.jsx("input",{ref:l,type:"file",accept:".csv",onChange:c,className:"hidden"}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto",children:t?e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):a?e.jsx(Ne,{className:"w-8 h-8 text-white"}):e.jsx(re,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t?"–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞...":a?"–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω":"–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª"}),e.jsx("p",{className:"text-gray-300",children:t?"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ...":a?a.name:"–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É"})]}),!a&&!t&&e.jsx("button",{onClick:A,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"–í—ã–±—Ä–∞—Ç—å CSV —Ñ–∞–π–ª"}),!a&&!t&&e.jsxs("div",{className:"mt-6 p-4 bg-white/5 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-2",children:"–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-300",children:[e.jsx(Q,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{children:"CSV —Ñ–∞–π–ª—ã (.csv)"})]})]}),t&&e.jsx("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-blue-300",children:"–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ..."})]})}),a&&!t&&e.jsx("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/20 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-green-300 font-medium",children:"–§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω"}),e.jsx("p",{className:"text-green-300/70 text-sm",children:a.name})]})]})})]})]}),e.jsx("div",{className:"mt-6 space-y-3",children:e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl",children:[e.jsx(ke,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"–í–∞–∂–Ω–æ:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"‚Ä¢ –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV"}),e.jsx("li",{children:"‚Ä¢ –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ"}),e.jsx("li",{children:"‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏: –∑–∞–ø—è—Ç–∞—è (,), —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (;)"}),e.jsx("li",{children:"‚Ä¢ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10 –ú–ë"})]})]})]})})]})},$t=({onProviderSelect:r,selectedProvider:t,onBack:n})=>{const s=[{id:"optipay",name:"Optipay",description:"–¢—É—Ä–µ—Ü–∫–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π",icon:"üáπüá∑",fields:["Tracking Id","Status","Amount","Payment method","Company"],sampleData:"TransactionRequestsList.csv"},{id:"payshack",name:"Payshack",description:"–ò–Ω–¥–∏–π—Å–∫–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π",icon:"üáÆüá≥",fields:["Transaction Id","Order Id","Status","Amount","UTR"],sampleData:"transaction.csv"}];return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üè¶ –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"}),e.jsx("p",{className:"text-gray-600",children:"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:s.map(a=>e.jsx("div",{className:`border-2 rounded-lg p-6 cursor-pointer transition-all duration-200 ${t===a.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-gray-50"}`,onClick:()=>r(a.id),children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:a.description}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:a.fields.map((i,l)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(ae,{className:"h-3 w-3 text-green-500 mr-2"}),i]},l))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞: ",a.sampleData]})}),t===a.id&&e.jsxs("div",{className:"mt-4 flex items-center justify-center text-blue-600",children:[e.jsx(ae,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"–í—ã–±—Ä–∞–Ω–æ"})]})]})},a.id))}),e.jsxs("div",{className:"text-center",children:[e.jsx("button",{onClick:n,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors mr-4",children:"‚Üê –ù–∞–∑–∞–¥"}),e.jsxs("button",{onClick:()=>r(t),disabled:!t,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"]})]})]})},Et=({metrics:r,dataType:t="merchant"})=>{if(!r)return null;const n="TRY",s="TRY",a=t==="merchant"?"–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞":"–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã",i=h=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(h),x=[{title:"–í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π",value:r.total.toLocaleString("tr-TR"),icon:X,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/30"},{title:"–£—Å–ø–µ—à–Ω—ã–µ",value:r.successful.toLocaleString("tr-TR"),subtitle:`${r.conversionRate.toFixed(1)}% –∫–æ–Ω–≤–µ—Ä—Å–∏—è`,icon:Ne,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"},{title:"–ù–µ—É–¥–∞—á–Ω—ã–µ",value:r.failed.toLocaleString("tr-TR"),subtitle:`${(r.failed/r.total*100).toFixed(1)}% –æ—Ç–∫–∞–∑–æ–≤`,icon:We,color:"from-red-500 to-pink-500",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"},{title:"–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ",value:r.canceled.toLocaleString("tr-TR"),subtitle:t==="merchant"?`${(r.canceled/r.total*100).toFixed(1)}% –æ—Ç–º–µ–Ω`:"–ù–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ",icon:Ie,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/30",hidden:t==="platform"},{title:"–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞",value:i(r.successfulRevenue),subtitle:"–¢–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏",icon:B,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/30"},{title:"–ü–æ—Ç–µ—Ä—è–Ω–Ω–∞—è –≤—ã—Ä—É—á–∫–∞",value:i(r.lostRevenue),subtitle:"–ù–µ—É–¥–∞—á–Ω—ã–µ –∏ –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ",icon:De,color:"from-red-500 to-rose-500",bgColor:"bg-red-500/20",borderColor:"border-red-500/30"},{title:"–û–±—â–∞—è —Å—É–º–º–∞",value:i(r.totalAmount),subtitle:"–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏",icon:B,color:"from-purple-500 to-indigo-500",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/30"},{title:"–ö–æ–º–∏—Å—Å–∏–∏",value:i(r.totalFees),subtitle:"–û–±—â–∞—è —Å—É–º–º–∞ –∫–æ–º–∏—Å—Å–∏–π",icon:B,color:"from-indigo-500 to-blue-500",bgColor:"bg-indigo-500/20",borderColor:"border-indigo-500/30"},{title:"–°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞",value:i(r.averageAmount),subtitle:"–°—Ä–µ–¥–Ω–µ–µ –ø–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ü–∏—è–º",icon:q,color:"from-cyan-500 to-blue-500",bgColor:"bg-cyan-500/20",borderColor:"border-cyan-500/30"},{title:"–î–µ–ø–æ–∑–∏—Ç—ã",value:r.depositMetrics.total.toLocaleString("tr-TR"),subtitle:`${i(r.depositMetrics.amount)} ‚Ä¢ ${r.depositMetrics.successful} —É—Å–ø–µ—à–Ω—ã—Ö`,icon:q,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/20",borderColor:"border-green-500/30"},{title:"–°—É–º–º–∞ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–ø–æ–∑–∏—Ç–æ–≤",value:i(r.depositMetrics.successfulAmount||0),subtitle:`${r.depositMetrics.successful||0} –æ–ø–µ—Ä–∞—Ü–∏–π`,icon:B,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/20",borderColor:"border-green-500/30",hidden:!r.depositMetrics||r.depositMetrics.total===0},{title:"–í—ã–ø–ª–∞—Ç—ã",value:r.withdrawalMetrics.total.toLocaleString("tr-TR"),subtitle:`${i(r.withdrawalMetrics.amount)} ‚Ä¢ ${r.withdrawalMetrics.successful} —É—Å–ø–µ—à–Ω—ã—Ö`,icon:De,color:"from-orange-500 to-red-500",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/30"},{title:"–°—É–º–º–∞ —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç",value:i(r.withdrawalMetrics.successfulAmount||0),subtitle:`${r.withdrawalMetrics.successful||0} –æ–ø–µ—Ä–∞—Ü–∏–π`,icon:B,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/20",borderColor:"border-green-500/30",hidden:!r.withdrawalMetrics||r.withdrawalMetrics.total===0},{title:"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",value:i(r.maxAmount),subtitle:"–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è",icon:q,color:"from-pink-500 to-rose-500",bgColor:"bg-pink-500/20",borderColor:"border-pink-500/30"}].filter(h=>!h.hidden);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏"}),e.jsxs("p",{className:"text-gray-300",children:["–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ ",a," ‚Ä¢ –í–∞–ª—é—Ç–∞: ",n]})]}),e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-white/10 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-sm text-white",children:"–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map((h,m)=>e.jsxs("div",{className:`bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 ${h.borderColor} hover:bg-white/10 transition-all duration-300`,children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${h.color} rounded-xl flex items-center justify-center mb-4`,children:e.jsx(h.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:h.value}),e.jsx("div",{className:"text-lg font-semibold text-gray-300",children:h.title})]}),h.subtitle&&e.jsx("div",{className:"text-sm text-gray-400",children:h.subtitle})]},m))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t==="merchant"&&Object.keys(r.companyStats).length>0&&e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2 text-blue-400"}),"–¢–æ–ø –∫–æ–º–ø–∞–Ω–∏–π"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(r.companyStats).sort(([,h],[,m])=>m.revenue-h.revenue).slice(0,3).map(([h,m],c)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-xs font-bold text-white",children:c+1}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:h}),e.jsxs("div",{className:"text-xs text-gray-400",children:[m.total," –æ–ø–µ—Ä–∞—Ü–∏–π"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:i(m.revenue)}),e.jsxs("div",{className:"text-xs text-gray-400",children:[(m.completed/m.total*100).toFixed(1),"% —É—Å–ø–µ—Ö"]})]})]},h))})]}),Object.keys(r.paymentMethodStats).length>0&&e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(X,{className:"w-5 h-5 mr-2 text-green-400"}),"–ú–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(r.paymentMethodStats).sort(([,h],[,m])=>m.total-h.total).slice(0,3).map(([h,m],c)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-xs font-bold text-white",children:c+1}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:h}),e.jsxs("div",{className:"text-xs text-gray-400",children:[m.total," –æ–ø–µ—Ä–∞—Ü–∏–π"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:m.completed}),e.jsxs("div",{className:"text-xs text-gray-400",children:[(m.completed/m.total*100).toFixed(1),"% —É—Å–ø–µ—Ö"]})]})]},h))})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2 text-purple-400"}),"–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-300",children:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è"}),e.jsxs("span",{className:"text-white font-semibold",children:[r.conversionRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(r.conversionRate,100)}%`}})})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-300",children:"–°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞"}),e.jsx("span",{className:"text-white font-semibold",children:i(r.averageAmount)})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-300",children:"–ö–æ–º–∏—Å—Å–∏–∏"}),e.jsx("span",{className:"text-white font-semibold",children:i(r.totalFees)})]})})]})]})]})]})},Ot=({data:r,metrics:t,dataType:n="merchant"})=>{const[s,a]=_.useState("overview"),i="TRY",l="TRY",x=d=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:l,minimumFractionDigits:0,maximumFractionDigits:0}).format(d),h=jt(r),m=Nt(r,n),c=vt(r,n),A=n==="merchant"?wt(r):{},u=Ct(r),b=kt(r),p=At(r,10),N=[{id:"overview",label:"–û–±–∑–æ—Ä",icon:Ae},{id:"status",label:"–°—Ç–∞—Ç—É—Å—ã",icon:ye},{id:"amounts",label:"–°—É–º–º—ã",icon:B},{id:"companies",label:"–ö–æ–º–ø–∞–Ω–∏–∏",icon:H,hidden:n==="platform"},{id:"methods",label:"–ú–µ—Ç–æ–¥—ã –æ–ø–ª–∞—Ç—ã",icon:K},{id:"timeline",label:"–í—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∏–Ω–∏—è",icon:Y},{id:"users",label:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",icon:H}].filter(d=>!d.hidden),f=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 mr-2 text-blue-400"}),"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(c).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),O={completed:"from-green-500 to-emerald-500",success:"from-green-500 to-emerald-500",failed:"from-red-500 to-pink-500",fail:"from-red-500 to-pink-500",canceled:"from-yellow-500 to-orange-500"}[d.toLowerCase()]||"from-gray-500 to-gray-600";return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 bg-gradient-to-r ${O} rounded-full`}),e.jsx("span",{className:"text-sm font-medium text-white capitalize",children:d==="completed"?"–ó–∞–≤–µ—Ä—à–µ–Ω–æ":d==="success"?"–£—Å–ø–µ—à–Ω–æ":d==="failed"?"–ù–µ—É–¥–∞—á–Ω–æ":d==="fail"?"–û—à–∏–±–∫–∞":d==="canceled"?"–û—Ç–º–µ–Ω–µ–Ω–æ":d})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:C}),e.jsxs("div",{className:"text-xs text-gray-400",children:[g,"%"]})]})]},d)})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 text-green-400"}),"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—É–º–º–∞–º"]}),e.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),M=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 bg-gradient-to-r ${M[T%M.length]} rounded-full`}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[d," ",i]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:C}),e.jsxs("div",{className:"text-xs text-gray-400",children:[g,"%"]})]})]},d)})})]})]}),k=()=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 mr-2 text-blue-400"}),"–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(c).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),O={completed:"from-green-500 to-emerald-500",success:"from-green-500 to-emerald-500",failed:"from-red-500 to-pink-500",fail:"from-red-500 to-pink-500",canceled:"from-yellow-500 to-orange-500"}[d.toLowerCase()]||"from-gray-500 to-gray-600",V=d==="completed"?"–ó–∞–≤–µ—Ä—à–µ–Ω–æ":d==="success"?"–£—Å–ø–µ—à–Ω–æ":d==="failed"?"–ù–µ—É–¥–∞—á–Ω–æ":d==="fail"?"–û—à–∏–±–∫–∞":d==="canceled"?"–û—Ç–º–µ–Ω–µ–Ω–æ":d;return e.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-xl",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${O} rounded-full flex items-center justify-center mx-auto mb-3`,children:e.jsx("span",{className:"text-white font-bold text-lg",children:C})}),e.jsx("div",{className:"text-white font-semibold mb-1",children:V}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[g,"%"]})]},d)})})]}),w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(B,{className:"w-5 h-5 mr-2 text-green-400"}),"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Å—É–º–º–∞–º"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),M=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-white",children:[d," ",i]}),e.jsxs("span",{className:"text-gray-400",children:[C," –æ–ø–µ—Ä–∞—Ü–∏–π (",g,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${M[T%M.length]} transition-all duration-500`,style:{width:`${g}%`}})})]},d)})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(q,{className:"w-5 h-5 mr-2 text-purple-400"}),"–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º —Å—É–º–º"]}),e.jsx("div",{className:"space-y-4",children:m.map((d,C)=>{const T=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-white",children:[d.range," ",i]}),e.jsxs("span",{className:"text-gray-400",children:[d.conversion.toFixed(1),"% –∫–æ–Ω–≤–µ—Ä—Å–∏—è"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${T[C%T.length]} transition-all duration-500`,style:{width:`${Math.min(d.conversion,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400",children:[d.successful," –∏–∑ ",d.total," –æ–ø–µ—Ä–∞—Ü–∏–π —É—Å–ø–µ—à–Ω—ã"]})]},d.range)})})]})]}),I=()=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2 text-blue-400"}),"–¢–æ–ø –∫–æ–º–ø–∞–Ω–∏–π –ø–æ –≤—ã—Ä—É—á–∫–µ"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(A).sort(([,d],[,C])=>C-d).slice(0,10).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),M=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white",children:d}),e.jsxs("span",{className:"text-gray-400",children:[C," –æ–ø–µ—Ä–∞—Ü–∏–π (",g,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${M[T%M.length]} transition-all duration-500`,style:{width:`${g}%`}})})]},d)})})]}),o=()=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(K,{className:"w-5 h-5 mr-2 text-green-400"}),"–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–µ—Ç–æ–¥–∞–º –æ–ø–ª–∞—Ç—ã"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(u).sort(([,d],[,C])=>C-d).slice(0,10).map(([d,C],T)=>{const g=(C/r.length*100).toFixed(1),M=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white",children:d}),e.jsxs("span",{className:"text-gray-400",children:[C," –æ–ø–µ—Ä–∞—Ü–∏–π (",g,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${M[T%M.length]} transition-all duration-500`,style:{width:`${g}%`}})})]},d)})})]}),y=()=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-2 text-purple-400"}),"–î–∏–Ω–∞–º–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏"]}),e.jsx("div",{className:"space-y-4",children:b.slice(-10).map((d,C)=>{const T=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-white",children:d.date}),e.jsxs("span",{className:"text-gray-400",children:[d.total," –æ–ø–µ—Ä–∞—Ü–∏–π ‚Ä¢ ",d.conversionRate.toFixed(1),"% –∫–æ–Ω–≤–µ—Ä—Å–∏—è"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${T[C%T.length]} transition-all duration-500`,style:{width:`${Math.min(d.total/Math.max(...b.map(g=>g.total))*100,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400",children:["–£—Å–ø–µ—à–Ω–æ: ",d.completed," ‚Ä¢ –ù–µ—É–¥–∞—á–Ω–æ: ",d.failed,n==="merchant"&&d.canceled>0&&` ‚Ä¢ –û—Ç–º–µ–Ω–µ–Ω–æ: ${d.canceled}`]})]},d.date)})})]}),j=()=>e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2 text-indigo-400"}),"–¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –æ–±—ä–µ–º—É –æ–ø–µ—Ä–∞—Ü–∏–π"]}),e.jsx("div",{className:"space-y-4",children:p.map((d,C)=>{const T=["from-blue-500 to-cyan-500","from-cyan-500 to-teal-500","from-teal-500 to-emerald-500","from-emerald-500 to-green-500","from-green-500 to-lime-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-xs font-bold text-white",children:C+1}),e.jsx("span",{className:"text-white",children:d.name})]}),e.jsxs("span",{className:"text-gray-400",children:[x(d.totalAmount)," ‚Ä¢ ",d.total," –æ–ø–µ—Ä–∞—Ü–∏–π"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${T[C%T.length]} transition-all duration-500`,style:{width:`${Math.min(d.totalAmount/Math.max(...p.map(g=>g.totalAmount))*100,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400",children:["–£—Å–ø–µ—à–Ω–æ: ",d.completed," ‚Ä¢ –ù–µ—É–¥–∞—á–Ω–æ: ",d.failed,n==="merchant"&&d.canceled>0&&` ‚Ä¢ –û—Ç–º–µ–Ω–µ–Ω–æ: ${d.canceled}`]})]},d.id)})})]}),v=()=>{switch(s){case"overview":return f();case"status":return k();case"amounts":return w();case"companies":return I();case"methods":return o();case"timeline":return y();case"users":return j();default:return f()}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏"}),e.jsxs("p",{className:"text-gray-300",children:["–î–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚Ä¢ ",r.length," –∑–∞–ø–∏—Å–µ–π ‚Ä¢ –í–∞–ª—é—Ç–∞: ",i]})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(d=>e.jsxs("button",{onClick:()=>a(d.id),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${s===d.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:[e.jsx(d.icon,{className:"w-4 h-4"}),e.jsx("span",{children:d.label})]},d.id))}),e.jsx("div",{className:"animate-fade-in",children:v()})]})},Ut=({data:r,dataType:t="merchant"})=>{const[n,s]=_.useState({key:null,direction:"asc"}),[a,i]=_.useState(""),[l,x]=_.useState(1),[h]=_.useState(20);_.useEffect(()=>{x(1)},[a,r]);const m="TRY",c="TRY",A=d=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:c,minimumFractionDigits:0,maximumFractionDigits:0}).format(d),u=d=>{if(!d)return"-";try{return new Date(d).toLocaleString("tr-TR")}catch{return d}},b=d=>{const C=d?d.toLowerCase():"";if(t==="merchant")switch(C){case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";case"canceled":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}else switch(C){case"success":return"bg-green-500/20 text-green-300 border-green-500/30";case"fail":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},p=d=>{const C=d?d.toLowerCase():"";if(t==="merchant")switch(C){case"completed":return"–ó–∞–≤–µ—Ä—à–µ–Ω–æ";case"failed":return"–ù–µ—É–¥–∞—á–Ω–æ";case"canceled":return"–û—Ç–º–µ–Ω–µ–Ω–æ";default:return d||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}else switch(C){case"success":return"–£—Å–ø–µ—à–Ω–æ";case"fail":return"–û—à–∏–±–∫–∞";default:return d||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}},N=r.filter(d=>{const C=a.toLowerCase();return d.id&&d.id.toLowerCase().includes(C)||d.status&&d.status.toLowerCase().includes(C)||d.company&&d.company.toLowerCase().includes(C)||d.userName&&d.userName.toLowerCase().includes(C)||d.paymentMethod&&d.paymentMethod.toLowerCase().includes(C)||d.amount&&d.amount.toString().includes(C)}),f=[...N].sort((d,C)=>{if(!n.key)return 0;let T=d[n.key],g=C[n.key];return(n.key==="amount"||n.key==="fee")&&(T=parseFloat(T)||0,g=parseFloat(g)||0),(n.key==="createdAt"||n.key==="processedAt")&&(T=new Date(T||0),g=new Date(g||0)),T<g?n.direction==="asc"?-1:1:T>g?n.direction==="asc"?1:-1:0}),k=Math.ceil(f.length/h),w=(l-1)*h,I=w+h,o=f.slice(w,I),y=d=>{s(C=>({key:d,direction:C.key===d&&C.direction==="asc"?"desc":"asc"}))},j=({columnKey:d})=>n.key!==d?e.jsx(J,{className:"w-4 h-4 text-gray-400"}):n.direction==="asc"?e.jsx(Se,{className:"w-4 h-4 text-blue-400"}):e.jsx(J,{className:"w-4 h-4 text-blue-400"}),v=[{key:"id",label:"ID",sortable:!0},{key:"status",label:"–°—Ç–∞—Ç—É—Å",sortable:!0},{key:"amount",label:"–°—É–º–º–∞",sortable:!0},{key:"company",label:"–ö–æ–º–ø–∞–Ω–∏—è",sortable:!0,hidden:t==="platform"},{key:"userName",label:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",sortable:!0},{key:"paymentMethod",label:"–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã",sortable:!0},{key:"createdAt",label:"–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è",sortable:!0},{key:"fee",label:"–ö–æ–º–∏—Å—Å–∏—è",sortable:!0}].filter(d=>!d.hidden);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"–î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"}),e.jsxs("p",{className:"text-gray-300",children:[N.length," –∑–∞–ø–∏—Å–µ–π –∏–∑ ",r.length," ‚Ä¢ –í–∞–ª—é—Ç–∞: ",m]})]}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"–≠–∫—Å–ø–æ—Ä—Ç"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ ID, —Å—Ç–∞—Ç—É—Å—É, –∫–æ–º–ø–∞–Ω–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é...",value:a,onChange:d=>i(d.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[N.length," —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white/10",children:e.jsx("tr",{children:v.map(d=>e.jsx("th",{className:`px-6 py-4 text-left text-sm font-semibold text-white ${d.sortable?"cursor-pointer hover:bg-white/10":""}`,onClick:()=>d.sortable&&y(d.key),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:d.label}),d.sortable&&e.jsx(j,{columnKey:d.key})]})},d.key))})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:o.map((d,C)=>e.jsxs("tr",{className:"hover:bg-white/5 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-white font-mono",children:d.id||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${b(d.status)}`,children:p(d.status)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-white font-semibold",children:A(d.amount)}),t==="merchant"&&e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:d.company||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:d.fullName||d.userName||"-"}),d.userId&&e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",d.userId]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:d.paymentMethod||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:u(d.createdAt)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:d.fee?A(d.fee):"-"})]},d.id||C))})]})}),k>1&&e.jsx("div",{className:"px-6 py-4 bg-white/5 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["–ü–æ–∫–∞–∑–∞–Ω–æ ",w+1,"-",Math.min(I,N.length)," –∏–∑ ",N.length," –∑–∞–ø–∏—Å–µ–π"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>x(d=>Math.max(d-1,1)),disabled:l===1,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–ù–∞–∑–∞–¥"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,k)},(d,C)=>{const T=C+1;return e.jsx("button",{onClick:()=>x(T),className:`px-3 py-1 rounded-lg transition-colors duration-200 ${l===T?"bg-blue-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:T},T)})}),e.jsx("button",{onClick:()=>x(d=>Math.min(d+1,k)),disabled:l===k,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–í–ø–µ—Ä–µ–¥"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.length})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"–û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:N.length})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10",children:[e.jsx("div",{className:"text-sm text-gray-400",children:"–û–±—â–∞—è —Å—É–º–º–∞"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:A(r.reduce((d,C)=>d+(parseFloat(C.amount)||0),0))})]})]})]})},zt=({data:r})=>{const[t,n]=_.useState({key:null,direction:"asc"}),[s,a]=_.useState(""),[i,l]=_.useState(1),[x]=_.useState(15);_.useEffect(()=>{l(1)},[s,r]);const h=(o,y="TRY")=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:y,minimumFractionDigits:0,maximumFractionDigits:0}).format(o),m=o=>{if(!o)return"-";try{return new Date(o).toLocaleString("tr-TR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return o}},c=o=>{switch(o?o.toLowerCase():""){case"success":return"bg-green-500/20 text-green-300 border-green-500/30";case"fail":return"bg-red-500/20 text-red-300 border-red-500/30";case"in_process":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},A=o=>{switch(o?o.toLowerCase():""){case"success":return"–£—Å–ø–µ—à–Ω–æ";case"fail":return"–û—à–∏–±–∫–∞";case"in_process":return"–í –ø—Ä–æ—Ü–µ—Å—Å–µ";default:return o||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}},u=o=>{const y=o?o.toLowerCase():"";return y.includes("deposit")||y==="–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ"?"bg-blue-500/20 text-blue-300":y.includes("withdraw")||y==="–≤—ã–≤–æ–¥"?"bg-orange-500/20 text-orange-300":"bg-purple-500/20 text-purple-300"},b=r.filter(o=>{const y=s.toLowerCase();return o.id&&o.id.toString().toLowerCase().includes(y)||o.status&&o.status.toLowerCase().includes(y)||o.company&&o.company.toLowerCase().includes(y)||o.fullName&&o.fullName.toLowerCase().includes(y)||o.userId&&o.userId.toString().toLowerCase().includes(y)||o.paymentMethod&&o.paymentMethod.toLowerCase().includes(y)||o.amount&&o.amount.toString().includes(y)}),p=[...b].sort((o,y)=>{if(!t.key)return 0;const j=o[t.key]||"",v=y[t.key]||"";if(t.key==="amount"||t.key==="fee")return t.direction==="asc"?parseFloat(j)-parseFloat(v):parseFloat(v)-parseFloat(j);if(t.key==="createdAt"||t.key==="processedAt"){const C=new Date(j),T=new Date(v);return t.direction==="asc"?C-T:T-C}const d=j.toString().localeCompare(v.toString());return t.direction==="asc"?d:-d}),N=Math.ceil(p.length/x),f=(i-1)*x,k=p.slice(f,f+x),w=o=>{n(y=>({key:o,direction:y.key===o&&y.direction==="asc"?"desc":"asc"}))},I=({columnKey:o})=>t.key!==o?e.jsx(J,{className:"w-4 h-4 text-gray-400"}):t.direction==="asc"?e.jsx(Se,{className:"w-4 h-4 text-blue-400"}):e.jsx(J,{className:"w-4 h-4 text-blue-400"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"–û–ø–µ—Ä–∞—Ü–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}),e.jsxs("p",{className:"text-gray-300",children:[b.length," –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ ",r.length," ‚Ä¢ –î–∞–Ω–Ω—ã–µ API –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"–≠–∫—Å–ø–æ—Ä—Ç"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ ID, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Å—Ç–∞—Ç—É—Å—É, –ø—Ä–æ–µ–∫—Ç—É...",value:s,onChange:o=>a(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[b.length," —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("id"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"ID –û–ø–µ—Ä–∞—Ü–∏–∏"}),e.jsx(I,{columnKey:"id"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("status"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°—Ç–∞—Ç—É—Å"}),e.jsx(I,{columnKey:"status"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("transactionType"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–¢–∏–ø"}),e.jsx(I,{columnKey:"transactionType"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("amount"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°—É–º–º–∞"}),e.jsx(I,{columnKey:"amount"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("company"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–ü—Ä–æ–µ–∫—Ç"}),e.jsx(I,{columnKey:"company"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>w("createdAt"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°–æ–∑–¥–∞–Ω–æ"}),e.jsx(I,{columnKey:"createdAt"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:"–î–µ—Ç–∞–ª–∏"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:k.map((o,y)=>e.jsxs("tr",{className:"hover:bg-white/5 transition-colors duration-200",children:[e.jsxs("td",{className:"px-4 py-4 text-sm",children:[e.jsx("div",{className:"font-mono text-white text-xs",children:o.id?o.id.slice(-12):"-"}),o.clientOperationId&&e.jsxs("div",{className:"font-mono text-gray-400 text-xs mt-1",children:["–ö–ª–∏–µ–Ω—Ç: ",o.clientOperationId.slice(-8)]})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${c(o.status)}`,children:A(o.status)}),o.operationState&&o.operationState!==o.status&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:o.operationState})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u(o.transactionType)}`,children:o.transactionType||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"})}),e.jsxs("td",{className:"px-4 py-4 text-sm",children:[e.jsx("div",{className:"font-semibold text-white",children:h(o.amount)}),o.fee>0&&e.jsxs("div",{className:"text-xs text-gray-400",children:["–ö–æ–º–∏—Å—Å–∏—è: ",h(o.fee)]})]}),e.jsx("td",{className:"px-4 py-4 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-gray-400"}),e.jsx("div",{children:o.fullName?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium text-white",children:o.fullName}),e.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",o.userId]})]}):e.jsxs("div",{className:"text-gray-400",children:["ID: ",o.userId||"-"]})})]})}),e.jsxs("td",{className:"px-4 py-4 text-sm",children:[e.jsx("div",{className:"font-medium text-white",children:o.company||"-"}),o.serviceEnv&&e.jsx("div",{className:"text-xs text-gray-400",children:o.serviceEnv})]}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-300",children:[e.jsx("div",{children:m(o.createdAt)}),o.processedAt&&o.processedAt!==o.createdAt&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: ",m(o.processedAt)]})]}),e.jsx("td",{className:"px-4 py-4 text-sm",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[o.paymentMethod&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[e.jsx(K,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:o.paymentMethod})]}),o.linkId&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs",children:[e.jsx(ve,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-mono",children:o.linkId.slice(-8)})]})]})})]},o.id||y))})]})}),N>1&&e.jsxs("div",{className:"bg-white/5 px-6 py-4 flex items-center justify-between border-t border-white/10",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["–°—Ç—Ä–∞–Ω–∏—Ü–∞ ",i," –∏–∑ ",N," ‚Ä¢ –ü–æ–∫–∞–∑–∞–Ω–æ ",k.length," –∏–∑ ",b.length]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(Math.max(1,i-1)),disabled:i===1,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–ü—Ä–µ–¥—ã–¥—É—â–∞—è"}),e.jsx("button",{onClick:()=>l(Math.min(N,i+1)),disabled:i===N,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–°–ª–µ–¥—É—é—â–∞—è"})]})]})]})]})},Vt=({data:r,filters:t,onFiltersChange:n,dataType:s="merchant"})=>{var I;const[a,i]=_.useState(!1),[l,x]=_.useState(t),h="TRY",m=s==="merchant"?"–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞":"–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã",c=o=>{const y=r.map(v=>v[o]).filter(Boolean),j=[...new Set(y)].sort();return console.log(`üìä Unique values for "${o}":`,j),j},A=(()=>{const o=c("status");return console.log("üìã Available statuses in data:",o),s==="merchant"?o.map(y=>{const j=y.toLowerCase();let v=y;return j==="completed"?v="–ó–∞–≤–µ—Ä—à–µ–Ω–æ":j==="failed"?v="–ù–µ—É–¥–∞—á–Ω–æ":j==="canceled"&&(v="–û—Ç–º–µ–Ω–µ–Ω–æ"),{value:y,label:v}}):o.map(y=>{const j=y.toLowerCase();let v=y;return j==="success"?v="–£—Å–ø–µ—à–Ω–æ":j==="fail"?v="–û—à–∏–±–∫–∞":j==="in_process"&&(v="–í –ø—Ä–æ—Ü–µ—Å—Å–µ"),{value:y,label:v}})})(),u=s==="merchant"?c("company").map(o=>({value:o,label:o})):[],b=c("paymentMethod").map(o=>({value:o,label:o})),p=(()=>{const o=c("transactionType");return console.log("üìã Available transaction types in data:",o),o.map(y=>{const j=y.toLowerCase();let v=y;return j==="deposit"||j==="–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ"?v="–î–µ–ø–æ–∑–∏—Ç":(j==="withdraw"||j==="–≤—ã–≤–æ–¥")&&(v="–í—ã–ø–ª–∞—Ç–∞"),{value:y,label:v}})})();console.log("üè¢ Company options:",u),console.log("üí≥ Payment method options:",b),console.log("üîÑ Transaction type options:",p),_.useEffect(()=>{x(t)},[t]);const N=()=>{n(l)},f=()=>{const o={status:"",company:"",paymentMethod:"",transactionType:"",dateRange:{start:"",end:""},amountRange:{min:"",max:""}};x(o),n(o)},k=()=>l.status||l.company||l.paymentMethod||l.transactionType||l.dateRange.start||l.dateRange.end||l.amountRange.min||l.amountRange.max,w=()=>{let o=0;return l.status&&o++,l.company&&o++,l.paymentMethod&&o++,l.transactionType&&o++,(l.dateRange.start||l.dateRange.end)&&o++,(l.amountRange.min||l.amountRange.max)&&o++,o};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(W,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–§–∏–ª—å—Ç—Ä—ã"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫: ",m]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-300",children:(()=>{let o=[...r];return l.status&&(o=o.filter(y=>y.status===l.status)),l.company&&(o=o.filter(y=>y.company===l.company)),l.paymentMethod&&(o=o.filter(y=>y.paymentMethod===l.paymentMethod)),l.transactionType&&(o=o.filter(y=>y.transactionType===l.transactionType)),(l.dateRange.start||l.dateRange.end)&&(o=o.filter(y=>{if(!y.createdAt)return!0;const j=y.createdAt.split(" ")[0];return!(l.dateRange.start&&j<l.dateRange.start||l.dateRange.end&&j>l.dateRange.end)})),`${o.length} –∏–∑ ${r.length} –∑–∞–ø–∏—Å–µ–π`})()}),k()&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[e.jsxs("span",{className:"text-sm text-blue-300",children:[w()," –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤"]}),e.jsx("button",{onClick:f,className:"w-4 h-4 text-blue-300 hover:text-blue-200 transition-colors duration-200",children:e.jsx(Dt,{className:"w-3 h-3"})})]}),e.jsxs("button",{onClick:()=>i(!a),className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200 flex items-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsxs("span",{children:[a?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å"," —Ñ–∏–ª—å—Ç—Ä—ã"]})]})]})]}),a&&e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full mr-2"}),"–°—Ç–∞—Ç—É—Å –æ–ø–µ—Ä–∞—Ü–∏–∏"]}),e.jsxs("select",{value:l.status,onChange:o=>x(y=>({...y,status:o.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã"}),A.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]}),s==="merchant"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(H,{className:"w-4 h-4 text-blue-400 mr-2"}),"–ö–æ–º–ø–∞–Ω–∏—è"]}),e.jsxs("select",{value:l.company,onChange:o=>x(y=>({...y,company:o.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"–í—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏"}),u.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(K,{className:"w-4 h-4 text-green-400 mr-2"}),"–ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã"]}),e.jsxs("select",{value:l.paymentMethod,onChange:o=>x(y=>({...y,paymentMethod:o.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"–í—Å–µ –º–µ—Ç–æ–¥—ã"}),b.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(W,{className:"w-4 h-4 text-orange-400 mr-2"}),"–¢–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"]}),e.jsxs("select",{value:l.transactionType,onChange:o=>x(y=>({...y,transactionType:o.target.value})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"–í—Å–µ —Ç–∏–ø—ã"}),p.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞"]}),e.jsx("input",{type:"date",value:l.dateRange.start,onChange:o=>x(y=>({...y,dateRange:{...y.dateRange,start:o.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.length>0&&e.jsxs("div",{className:"text-xs text-gray-400",children:["–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö: ",(()=>{const o=r.map(v=>new Date(v.createdAt)).filter(v=>!isNaN(v.getTime()));if(o.length===0)return"–ù–µ—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞—Ç";const y=new Date(Math.min(...o)),j=new Date(Math.max(...o));return`${y.toISOString().split("T")[0]} - ${j.toISOString().split("T")[0]}`})()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è"]}),e.jsx("input",{type:"date",value:l.dateRange.end,onChange:o=>x(y=>({...y,dateRange:{...y.dateRange,end:o.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(B,{className:"w-4 h-4 text-green-400 mr-2"}),"–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (",h,")"]}),e.jsx("input",{type:"number",placeholder:"0",value:l.amountRange.min,onChange:o=>x(y=>({...y,amountRange:{...y.amountRange,min:o.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(B,{className:"w-4 h-4 text-green-400 mr-2"}),"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (",h,")"]}),e.jsx("input",{type:"number",placeholder:"–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π",value:l.amountRange.max,onChange:o=>x(y=>({...y,amountRange:{...y.amountRange,max:o.target.value}})),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[e.jsx("div",{className:"text-sm text-gray-400",children:k()?e.jsxs("span",{children:["–ê–∫—Ç–∏–≤–Ω–æ ",w()," —Ñ–∏–ª—å—Ç—Ä",w()!==1?"–æ–≤":""]}):e.jsx("span",{children:"–§–∏–ª—å—Ç—Ä—ã –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:f,className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200",children:"–°–±—Ä–æ—Å–∏—Ç—å"}),e.jsx("button",{onClick:N,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"})]})]})]}),!a&&k()&&e.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-xl p-4 border border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"–ê–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.status&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:["–°—Ç–∞—Ç—É—Å: ",(I=A.find(o=>o.value===l.status))==null?void 0:I.label]}),l.company&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:["–ö–æ–º–ø–∞–Ω–∏—è: ",l.company]}),l.paymentMethod&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:["–ú–µ—Ç–æ–¥: ",l.paymentMethod]}),(l.dateRange.start||l.dateRange.end)&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:["–î–∞—Ç–∞: ",l.dateRange.start||"..."," - ",l.dateRange.end||"..."]}),(l.amountRange.min||l.amountRange.max)&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded-full text-xs",children:["–°—É–º–º–∞: ",l.amountRange.min||"0"," - ",l.amountRange.max||"‚àû"," ",h]})]})]}),e.jsx("button",{onClick:f,className:"text-blue-400 hover:text-blue-300 text-sm transition-colors duration-200",children:"–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ"})]})})]})};function Bt({insights:r}){const t=n=>{switch(n){case"success":return"border-green-500/30 bg-green-500/10 text-green-300";case"warning":return"border-yellow-500/30 bg-yellow-500/10 text-yellow-300";case"danger":return"border-red-500/30 bg-red-500/10 text-red-300";case"info":default:return"border-blue-500/30 bg-blue-500/10 text-blue-300"}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Tt,{className:"w-6 h-6 text-yellow-400"}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"–ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã"})]}),e.jsx("div",{className:"space-y-4",children:r.map((n,s)=>e.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border ${t(n.type)} animate-slide-up`,style:{animationDelay:`${s*.1}s`},children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:n.icon}),e.jsx("p",{className:"text-sm font-medium leading-relaxed",children:n.text})]},s))})]})}function qt({data:r,anomalies:t}){const n=[{type:"–ù–µ–æ–±—ã—á–Ω–∞—è —Å—É–º–º–∞",description:"–û–ø–µ—Ä–∞—Ü–∏—è –Ω–∞ —Å—É–º–º—É –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤—ã—à–∞—é—â—É—é —Å—Ä–µ–¥–Ω—é—é",severity:"–í—ã—Å–æ–∫–∏–π",count:r.filter(i=>parseFloat(i["Initial Amount"])>1e4).length,recommendation:"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –∫—Ä—É–ø–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"},{type:"–ß–∞—Å—Ç—ã–µ –æ—Ç–∫–∞–∑—ã",description:"–ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",severity:"–°—Ä–µ–¥–Ω–∏–π",count:r.filter(i=>i.Status==="fail").length,recommendation:"–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–æ–≤"},{type:"–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã",description:"–ù–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è",severity:"–ù–∏–∑–∫–∏–π",count:Math.floor(Math.random()*5),recommendation:"–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è"}],s=i=>{switch(i){case"–í—ã—Å–æ–∫–∏–π":return"bg-red-500/20 text-red-300 border-red-500/30";case"–°—Ä–µ–¥–Ω–∏–π":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"–ù–∏–∑–∫–∏–π":return"bg-green-500/20 text-green-300 border-green-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},a=i=>{switch(i){case"–í—ã—Å–æ–∫–∏–π":return e.jsx(te,{className:"w-5 h-5 text-red-400"});case"–°—Ä–µ–¥–Ω–∏–π":return e.jsx(xe,{className:"w-5 h-5 text-yellow-400"});case"–ù–∏–∑–∫–∏–π":return e.jsx(se,{className:"w-5 h-5 text-green-400"});default:return e.jsx(se,{className:"w-5 h-5 text-gray-400"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(te,{className:"w-6 h-6 text-orange-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-xl p-6 border border-red-500/30",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(te,{className:"w-8 h-8 text-red-400"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:n.filter(i=>i.severity==="–í—ã—Å–æ–∫–∏–π").length}),e.jsx("div",{className:"text-red-300 text-sm",children:"–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 rounded-xl p-6 border border-yellow-500/30",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(xe,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:n.filter(i=>i.severity==="–°—Ä–µ–¥–Ω–∏–π").length}),e.jsx("div",{className:"text-yellow-300 text-sm",children:"–í–Ω–∏–º–∞–Ω–∏–µ"})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-xl p-6 border border-green-500/30",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(se,{className:"w-8 h-8 text-green-400"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:n.filter(i=>i.severity==="–ù–∏–∑–∫–∏–π").length}),e.jsx("div",{className:"text-green-300 text-sm",children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:"–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏"}),n.map((i,l)=>e.jsxs("div",{className:`p-6 rounded-xl border ${s(i.severity)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a(i.severity),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-white",children:i.type}),e.jsx("p",{className:"text-white/70 text-sm mt-1",children:i.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:i.count}),e.jsx("div",{className:"text-white/70 text-sm",children:"—Å–ª—É—á–∞–µ–≤"})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("div",{className:"text-white/70 text-sm mb-1",children:"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:"}),e.jsx("div",{className:"text-white text-sm",children:i.recommendation})]})]},l))]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-white",children:"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"}),e.jsx("div",{className:"w-10 h-6 bg-blue-500 rounded-full flex items-center justify-end px-1",children:e.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-white",children:"–ü–æ—Ä–æ–≥ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏"}),e.jsxs("select",{className:"bg-white/10 text-white rounded px-2 py-1 text-sm",children:[e.jsx("option",{children:"–í—ã—Å–æ–∫–∏–π"}),e.jsx("option",{children:"–°—Ä–µ–¥–Ω–∏–π"}),e.jsx("option",{children:"–ù–∏–∑–∫–∏–π"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-white",children:"–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏"}),e.jsxs("select",{className:"bg-white/10 text-white rounded px-2 py-1 text-sm",children:[e.jsx("option",{children:"5 –º–∏–Ω—É—Ç"}),e.jsx("option",{children:"15 –º–∏–Ω—É—Ç"}),e.jsx("option",{children:"1 —á–∞—Å"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-white",children:"–ò—Å—Ç–æ—Ä–∏—è –∞–Ω–æ–º–∞–ª–∏–π"}),e.jsx("button",{className:"text-blue-400 hover:text-blue-300 text-sm",children:"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ"})]})]})]})]})]})}const Yt=({onTimezoneSelect:r,selectedTimezone:t="UTC"})=>{const[n,s]=_.useState(!1),a=[{id:"UTC",name:"UTC (–í—Å–µ–º–∏—Ä–Ω–æ–µ –≤—Ä–µ–º—è)",offset:"+00:00"},{id:"Europe/Moscow",name:"–ú–æ—Å–∫–≤–∞ (MSK)",offset:"+03:00"},{id:"Europe/Istanbul",name:"–°—Ç–∞–º–±—É–ª (TRT)",offset:"+03:00"},{id:"Europe/London",name:"–õ–æ–Ω–¥–æ–Ω (GMT)",offset:"+00:00"},{id:"Europe/Berlin",name:"–ë–µ—Ä–ª–∏–Ω (CET)",offset:"+01:00"},{id:"Asia/Dubai",name:"–î—É–±–∞–π (GST)",offset:"+04:00"},{id:"Asia/Tokyo",name:"–¢–æ–∫–∏–æ (JST)",offset:"+09:00"},{id:"America/New_York",name:"–ù—å—é-–ô–æ—Ä–∫ (EST)",offset:"-05:00"},{id:"America/Los_Angeles",name:"–õ–æ—Å-–ê–Ω–¥–∂–µ–ª–µ—Å (PST)",offset:"-08:00"}],i=a.find(x=>x.id===t)||a[0],l=x=>{r(x.id),s(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!n),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors duration-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:i.name}),e.jsx("div",{className:"text-sm text-gray-300",children:i.offset})]})]}),e.jsx("div",{className:`transform transition-transform duration-200 ${n?"rotate-180":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white/10 backdrop-blur-xl border border-white/20 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:a.map(x=>e.jsxs("button",{onClick:()=>l(x),className:`w-full px-4 py-3 text-left hover:bg-white/20 transition-colors duration-200 flex items-center justify-between ${t===x.id?"bg-blue-500/20 text-blue-300":"text-white"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ie,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-gray-300",children:x.offset})]})]}),t===x.id&&e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"})]},x.id))})]})},$=_.forwardRef(({className:r,variant:t="default",blur:n=!0,border:s=!0,children:a,...i},l)=>{const x="rounded-2xl overflow-hidden transition-all duration-200",h={default:"bg-white/5 hover:bg-white/10",solid:"bg-gray-800",gradient:"bg-gradient-to-br from-white/10 to-white/5",glass:"bg-white/[0.02]",primary:"bg-gradient-to-br from-purple-500/20 to-pink-500/20"},m=n?"backdrop-blur-xl":"",c=s?"border border-white/10 hover:border-white/20":"";return e.jsx("div",{ref:l,className:he(x,h[t],m,c,r),...i,children:a})});$.displayName="Card";const E=({className:r,children:t,...n})=>e.jsx("div",{className:he("p-6",r),...n,children:t}),ee=({className:r,children:t,...n})=>e.jsx("h3",{className:he("text-lg font-semibold text-white",r),...n,children:t}),Wt=({data:r,dataType:t,timezone:n="UTC"})=>{const[s,a]=_.useState(0);_.useEffect(()=>{a(u=>u+1)},[r]),console.log("üé® BeautifulChartsGrid received data:",{dataLength:(r==null?void 0:r.length)||0,dataType:t,timezone:n,sampleData:(r==null?void 0:r.slice(0,2))||null});const i=(u,b)=>{const p=new Date(u);if(b==="UTC")return p;const f={"Europe/Moscow":3,"Europe/Istanbul":3,"Europe/London":0,"Europe/Berlin":1,"Asia/Dubai":4,"Asia/Tokyo":9,"America/New_York":-5,"America/Los_Angeles":-8}[b]||0;return new Date(p.getTime()+f*60*60*1e3)},l=_.useMemo(()=>{if(console.log("‚è∞ Processing hourly data for beautiful charts..."),!r||!Array.isArray(r)||r.length===0)return console.log("‚ö†Ô∏è No data available for hourly charts"),[];const u={};r.forEach((p,N)=>{const f=p.createdAt||p.date||p.operation_created_at;if(!f)return;const w=i(f,n).getHours(),I=parseFloat(p.amount||0);u[w]||(u[w]={hour:`${w.toString().padStart(2,"0")}:00`,shortHour:`${w}h`,volume:0,count:0,success:0,failed:0,successVolume:0,failedVolume:0}),u[w].volume+=I,u[w].count+=1;const o=(p.status||"").toLowerCase(),y=p.isCompleted||o==="completed"||o==="success"||o==="complete",j=p.isFailed||o==="failed"||o==="fail"||o==="canceled"||o==="cancelled";y?(u[w].success+=1,u[w].successVolume+=I):j&&(u[w].failed+=1,u[w].failedVolume+=I)});const b=Array.from({length:24},(p,N)=>u[N]||{hour:`${N.toString().padStart(2,"0")}:00`,shortHour:`${N}h`,volume:0,count:0,success:0,failed:0,successVolume:0,failedVolume:0}).filter(p=>p.count>0);return console.log("‚è∞ Beautiful hourly processing complete:",{activeHours:b.length,totalSuccess:b.reduce((p,N)=>p+N.success,0),totalVolume:b.reduce((p,N)=>p+N.volume,0)}),b.slice(0,12)},[r,n]),x=_.useMemo(()=>{if(console.log("üìÖ Processing daily data for beautiful charts..."),!r||!Array.isArray(r)||r.length===0)return console.log("‚ö†Ô∏è No data available for daily charts"),[];const u={};r.forEach((p,N)=>{const f=p.createdAt||p.date||p.operation_created_at;if(!f)return;const k=i(f,n),w=k.toISOString().split("T")[0],I=parseFloat(p.amount||0);u[w]||(u[w]={date:w,displayDate:k.toLocaleDateString("ru-RU",{month:"short",day:"numeric"}),volume:0,count:0,success:0,failed:0,successVolume:0,failedVolume:0,conversionRate:0}),u[w].volume+=I,u[w].count+=1;const o=(p.status||"").toLowerCase(),y=p.isCompleted||o==="completed"||o==="success"||o==="complete",j=p.isFailed||o==="failed"||o==="fail"||o==="canceled"||o==="cancelled";y?(u[w].success+=1,u[w].successVolume+=I):j&&(u[w].failed+=1,u[w].failedVolume+=I)});const b=Object.values(u).map(p=>({...p,conversionRate:p.count>0?p.success/p.count*100:0})).slice().sort((p,N)=>N.volume-p.volume).slice(0,10);return console.log("üìÖ Beautiful daily processing complete:",{activeDays:b.length,totalSuccess:b.reduce((p,N)=>p+N.success,0),totalVolume:b.reduce((p,N)=>p+N.volume,0)}),b},[r,n]),h=_.useMemo(()=>{const u=r.length,b=r.filter(d=>{const C=(d.status||"").toLowerCase();return d.isCompleted||C==="completed"||C==="success"||C==="complete"}).length,p=r.reduce((d,C)=>d+parseFloat(C.amount||0),0),N=r.filter(d=>{const C=(d.status||"").toLowerCase();return d.isCompleted||C==="completed"||C==="success"||C==="complete"}).reduce((d,C)=>d+parseFloat(C.amount||0),0),f=r.filter(d=>d.isDeposit||d.type==="deposit"||d.transactionType&&d.transactionType.toLowerCase().includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ")),k=f.filter(d=>{const C=(d.status||"").toLowerCase();return d.isCompleted||C==="completed"||C==="success"||C==="complete"}),w=f.reduce((d,C)=>d+parseFloat(C.amount||0),0),I=k.reduce((d,C)=>d+parseFloat(C.amount||0),0),o=r.filter(d=>d.isWithdraw||d.type==="withdraw"||d.transactionType&&d.transactionType.toLowerCase().includes("–≤—ã–≤–æ–¥")),y=o.filter(d=>{const C=(d.status||"").toLowerCase();return d.isCompleted||C==="completed"||C==="success"||C==="complete"}),j=o.reduce((d,C)=>d+parseFloat(C.amount||0),0),v=y.reduce((d,C)=>d+parseFloat(C.amount||0),0);return{totalOperations:u,successfulOperations:b,totalVolume:p,successfulVolume:N,conversionRate:u>0?b/u*100:0,averageAmount:u>0?p/u:0,deposits:{total:f.length,successful:k.length,volume:w,successfulVolume:I,conversionRate:f.length>0?k.length/f.length*100:0,averageAmount:f.length>0?w/f.length:0},withdrawals:{total:o.length,successful:y.length,volume:j,successfulVolume:v,conversionRate:o.length>0?y.length/o.length*100:0,averageAmount:o.length>0?j/o.length:0}}},[r]),m=_.useMemo(()=>{if(!r||r.length===0)return"TRY";const u=r.find(p=>p.currency);if(u)return console.log("üí∞ Currency detected from data:",u.currency),u.currency;const b=r.find(p=>p.amountFormatted);if(b){const p=b.amountFormatted;if(p.includes("TRY")||p.includes("‚Ç∫"))return"TRY";if(p.includes("EUR")||p.includes("‚Ç¨"))return"EUR";if(p.includes("USD")||p.includes("$"))return"USD"}return console.log("üí∞ No currency detected, using default: TRY"),"TRY"},[r]),c=u=>{const b=m,p=b==="TRY"?"tr-TR":"en-US";return new Intl.NumberFormat(p,{style:"currency",currency:b,minimumFractionDigits:0,maximumFractionDigits:0}).format(u)},A=({active:u,payload:b,label:p})=>u&&b&&b.length?e.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-lg border border-purple-500/30 rounded-xl p-4 shadow-2xl",children:[e.jsx("p",{className:"text-white font-semibold mb-2",children:p}),b.map((N,f)=>e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:N.color}}),e.jsx("span",{className:"text-gray-300 text-sm",children:N.name})]}),e.jsx("span",{className:"text-white font-medium",children:typeof N.value=="number"&&N.value>1e3?c(N.value):N.value})]},f))]}):null;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full blur-xl opacity-20 animate-pulse"}),e.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(X,{className:"w-12 h-12 text-white animate-bounce"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"–ö—Ä–∞—Å–∏–≤–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞"}),e.jsxs("p",{className:"text-xl text-gray-300 mt-2",children:["–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∂–∏–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Ä¢ ",n]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"–û–±—â–∏–π –æ–±—ä–µ–º",value:c(h.totalVolume),subtitle:`${h.totalOperations} –æ–ø–µ—Ä–∞—Ü–∏–π`,icon:B,gradient:"from-blue-500 to-cyan-500",change:"+12.5%"},{title:"–£—Å–ø–µ—à–Ω—ã–µ",value:c(h.successfulVolume),subtitle:`${h.successfulOperations} –æ–ø–µ—Ä–∞—Ü–∏–π`,icon:q,gradient:"from-green-500 to-emerald-500",change:"+8.2%"},{title:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è",value:`${h.conversionRate.toFixed(1)}%`,subtitle:"–û–±—â–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è",icon:we,gradient:"from-purple-500 to-pink-500",change:"+2.1%"},{title:"–°—Ä–µ–¥–Ω–∏–π —á–µ–∫",value:c(h.averageAmount),subtitle:"–ù–∞ –æ–ø–µ—Ä–∞—Ü–∏—é",icon:Ft,gradient:"from-orange-500 to-red-500",change:"+5.8%"}].map((u,b)=>e.jsx($,{className:"group hover:scale-105 transition-all duration-300 cursor-pointer",children:e.jsxs(E,{className:"p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br opacity-10 rounded-full transform translate-x-8 -translate-y-8 group-hover:scale-110 transition-transform duration-300",style:{backgroundImage:"linear-gradient(135deg, var(--tw-gradient-stops))"}}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${u.gradient} rounded-xl flex items-center justify-center group-hover:rotate-12 transition-transform duration-300`,children:e.jsx(u.icon,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-sm text-green-400",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),u.change]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:u.title}),e.jsx("p",{className:"text-2xl font-bold text-white mb-1 group-hover:text-purple-400 transition-colors duration-300",children:u.value}),e.jsx("p",{className:"text-xs text-gray-500",children:u.subtitle})]})]})]})},b))}),(h.deposits.total>0||h.withdrawals.total>0)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-400 to-red-400 bg-clip-text text-transparent",children:"–î–µ–ø–æ–∑–∏—Ç—ã vs –í—ã–ø–ª–∞—Ç—ã"}),e.jsx("p",{className:"text-gray-300",children:"–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–∞–ª–∞–Ω—Å–∞"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("h3",{className:"text-xl font-bold text-emerald-400 flex items-center justify-center gap-2",children:[e.jsx(Rt,{className:"w-6 h-6"}),"–î–µ–ø–æ–∑–∏—Ç—ã (–ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è)"]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx($,{className:"border-emerald-500/20 bg-emerald-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:h.deposits.total}),e.jsx("div",{className:"text-sm text-gray-400",children:"–í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π"})]})}),e.jsx($,{className:"border-emerald-500/20 bg-emerald-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:h.deposits.successful}),e.jsx("div",{className:"text-sm text-gray-400",children:"–£—Å–ø–µ—à–Ω—ã—Ö"})]})}),e.jsx($,{className:"border-emerald-500/20 bg-emerald-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:c(h.deposits.successfulVolume)}),e.jsx("div",{className:"text-sm text-gray-400",children:"–£—Å–ø–µ—à–Ω—ã–π –æ–±—ä–µ–º"})]})}),e.jsx($,{className:"border-emerald-500/20 bg-emerald-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[h.deposits.conversionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è"})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("h3",{className:"text-xl font-bold text-red-400 flex items-center justify-center gap-2",children:[e.jsx(Fe,{className:"w-6 h-6"}),"–í—ã–ø–ª–∞—Ç—ã (–í—ã–≤–æ–¥—ã)"]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx($,{className:"border-red-500/20 bg-red-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:h.withdrawals.total}),e.jsx("div",{className:"text-sm text-gray-400",children:"–í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π"})]})}),e.jsx($,{className:"border-red-500/20 bg-red-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:h.withdrawals.successful}),e.jsx("div",{className:"text-sm text-gray-400",children:"–£—Å–ø–µ—à–Ω—ã—Ö"})]})}),e.jsx($,{className:"border-red-500/20 bg-red-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:c(h.withdrawals.successfulVolume)}),e.jsx("div",{className:"text-sm text-gray-400",children:"–£—Å–ø–µ—à–Ω—ã–π –æ–±—ä–µ–º"})]})}),e.jsx($,{className:"border-red-500/20 bg-red-500/5",children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[h.withdrawals.conversionRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è"})]})})]})]})]}),e.jsx($,{className:"border-purple-500/20 bg-purple-500/5",children:e.jsxs(E,{className:"p-6",children:[e.jsxs(ee,{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(X,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ –∏ –≤—ã–ø–ª–∞—Ç"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–º–æ–≤ –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsxs(fe,{data:[{type:"–î–µ–ø–æ–∑–∏—Ç—ã",volume:h.deposits.successfulVolume,count:h.deposits.successful,conversion:h.deposits.conversionRate},{type:"–í—ã–ø–ª–∞—Ç—ã",volume:h.withdrawals.successfulVolume,count:h.withdrawals.successful,conversion:h.withdrawals.conversionRate}],margin:{top:20,right:30,left:20,bottom:5},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"depositGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:.8})]}),e.jsxs("linearGradient",{id:"withdrawalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#EF4444",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#DC2626",stopOpacity:.8})]})]}),e.jsx(le,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),e.jsx(ie,{dataKey:"type",stroke:"#9CA3AF",fontSize:12}),e.jsx(ce,{stroke:"#9CA3AF",fontSize:12,tickFormatter:c}),e.jsx(oe,{content:e.jsx(A,{})}),e.jsx(be,{dataKey:"volume",fill:(u,b)=>b===0?"url(#depositGradient)":"url(#withdrawalGradient)",radius:[4,4,0,0],name:"–û–±—ä–µ–º"})]},`comparison-${s}`)})})]})})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx($,{className:"group hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500",children:e.jsxs(E,{className:"p-6",children:[e.jsxs(ee,{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:e.jsx(Ie,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"–¢–æ–ø —á–∞—Å—ã –ø–æ –æ–±—ä–µ–º—É"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsxs(fe,{data:Array.isArray(l)?l:[],margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"hourlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#8B5CF6",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#06B6D4",stopOpacity:.8})]})}),e.jsx(le,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),e.jsx(ie,{dataKey:"shortHour",stroke:"#9CA3AF",fontSize:12,tickMargin:10}),e.jsx(ce,{stroke:"#9CA3AF",fontSize:12,tickFormatter:c}),e.jsx(oe,{content:e.jsx(A,{})}),e.jsx(be,{dataKey:"volume",fill:"url(#hourlyGradient)",radius:[4,4,0,0],name:"–û–±—ä–µ–º"})]},`hourly-${s}`)})})]})}),e.jsx($,{className:"group hover:shadow-2xl hover:shadow-green-500/10 transition-all duration-500",children:e.jsxs(E,{className:"p-6",children:[e.jsxs(ee,{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center",children:e.jsx(Y,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"–¢–æ–ø –¥–Ω–∏ –ø–æ –æ–±—ä–µ–º—É"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–õ—É—á—à–∏–µ –¥–Ω–∏ –ø–æ –≤—ã—Ä—É—á–∫–µ"})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsxs(fe,{data:Array.isArray(x)?x:[],margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"dailyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#10B981",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:.8})]})}),e.jsx(le,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),e.jsx(ie,{dataKey:"displayDate",stroke:"#9CA3AF",fontSize:12,angle:-45,textAnchor:"end",height:80}),e.jsx(ce,{stroke:"#9CA3AF",fontSize:12,tickFormatter:c}),e.jsx(oe,{content:e.jsx(A,{})}),e.jsx(be,{dataKey:"volume",fill:"url(#dailyGradient)",radius:[4,4,0,0],name:"–û–±—ä–µ–º"})]},`daily-${s}`)})})]})})]}),e.jsx($,{className:"group hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500",children:e.jsxs(E,{className:"p-6",children:[e.jsxs(ee,{className:"mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(we,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ –¥–Ω—è–º"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(ne,{width:"100%",height:"100%",children:e.jsxs(He,{data:Array.isArray(x)?[...x].sort((u,b)=>new Date(u.date)-new Date(b.date)):[],margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"conversionGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#F59E0B",stopOpacity:.8}),e.jsx("stop",{offset:"100%",stopColor:"#F59E0B",stopOpacity:.1})]})}),e.jsx(le,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),e.jsx(ie,{dataKey:"displayDate",stroke:"#9CA3AF",fontSize:12}),e.jsx(ce,{stroke:"#9CA3AF",fontSize:12,tickFormatter:u=>`${u}%`}),e.jsx(oe,{content:e.jsx(A,{})}),e.jsx(Ze,{type:"monotone",dataKey:"conversionRate",stroke:"#F59E0B",fill:"url(#conversionGradient)",strokeWidth:3,name:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è (%)"})]},`conversion-${s}`)})})]})})]}),e.jsx($,{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-500/20",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(Lt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"–ñ–∏–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:h.totalOperations}),e.jsx("p",{className:"text-sm text-gray-400",children:"–æ–ø–µ—Ä–∞—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ"})]})]})})})]})};Xe.register(Je,Qe,et,tt,st,at,rt,nt,lt);function Kt({data:r}){const t=_.useMemo(()=>[{label:"0-500",min:0,max:500},{label:"501-1000",min:501,max:1e3},{label:"1001-2000",min:1001,max:2e3},{label:"2001-5000",min:2001,max:5e3},{label:"5000+",min:5001,max:1/0}].map(i=>{const l=r.filter(m=>{const c=parseFloat(m["Initial Amount"])||0;return c>=i.min&&c<=i.max}),x=l.length,h=l.filter(m=>(m.Status?m.Status.toLowerCase():"")==="success").length;return{range:i.label,total:x,successful:h,conversion:x>0?h/x*100:0}}),[r]),n=_.useMemo(()=>["–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±","–í—Å"].map(i=>({day:i,operations:Math.floor(Math.random()*50)+20,conversion:Math.random()*40+40})),[]);_.useMemo(()=>{const a={};return r.forEach(i=>{const l=i.Status||"unknown";a[l]=(a[l]||0)+1}),a},[r]),_.useMemo(()=>{const a={};return r.forEach(i=>{const l=i["Operation State"]||"unknown";a[l]=(a[l]||0)+1}),a},[r]);const s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.8)",font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1}},scales:{x:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"rgba(255, 255, 255, 0.7)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ae,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(q,{className:"w-5 h-5 text-green-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ —Å—É–º–º–∞–º"})]}),e.jsx("div",{className:"h-64",children:e.jsx(it,{data:{labels:t.map(a=>a.range),datasets:[{label:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è (%)",data:t.map(a=>a.conversion),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1,borderRadius:8,borderSkipped:!1}]},options:s})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(X,{className:"w-5 h-5 text-purple-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"–ù–µ–¥–µ–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥"})]}),e.jsx("div",{className:"h-64",children:e.jsx(ct,{data:{labels:n.map(a=>a.day),datasets:[{label:"–û–ø–µ—Ä–∞—Ü–∏–∏",data:n.map(a=>a.operations),borderColor:"rgba(147, 51, 234, 1)",backgroundColor:"rgba(147, 51, 234, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgba(147, 51, 234, 1)",pointBorderColor:"rgba(255, 255, 255, 0.8)",pointBorderWidth:2,pointRadius:4},{label:"–ö–æ–Ω–≤–µ—Ä—Å–∏—è (%)",data:n.map(a=>a.conversion),borderColor:"rgba(34, 197, 94, 1)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgba(34, 197, 94, 1)",pointBorderColor:"rgba(255, 255, 255, 0.8)",pointBorderWidth:2,pointRadius:4}]},options:s})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-6 border border-white/10",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"–ê–Ω–∞–ª–∏–∑ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º —Å—É–º–º"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:t.map((a,i)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-400",children:a.total}),e.jsxs("div",{className:"text-white/70 text-xs mb-1",children:[a.range," TRY"]}),e.jsxs("div",{className:"text-sm font-medium text-green-400",children:[a.conversion.toFixed(1),"%"]})]},i))})]})]})}function Gt({data:r,metrics:t}){const n={nextWeekConversion:Math.min(100,t.conversionRate+(Math.random()-.5)*10),expectedRevenue:t.successfulRevenue*1.1,riskFactors:[{factor:"–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å",impact:"–°—Ä–µ–¥–Ω–∏–π",probability:65},{factor:"–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è",impact:"–í—ã—Å–æ–∫–∏–π",probability:45},{factor:"–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏",impact:"–ù–∏–∑–∫–∏–π",probability:15}]},s=[{title:"–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–∏",description:"–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π",impact:"–í—ã—Å–æ–∫–∏–π",effort:"–°—Ä–µ–¥–Ω–∏–π"},{title:"–ê–Ω–∞–ª–∏–∑ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π",description:"–í—ã—è–≤–∏—Ç—å –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–æ–≤ –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∏—Ö",impact:"–í—ã—Å–æ–∫–∏–π",effort:"–í—ã—Å–æ–∫–∏–π"},{title:"–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–Ω–æ–º–∞–ª–∏–π",description:"–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–∞–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è",impact:"–°—Ä–µ–¥–Ω–∏–π",effort:"–ù–∏–∑–∫–∏–π"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ve,{className:"w-6 h-6 text-purple-400"}),e.jsx("h3",{className:"text-xl font-semibold text-white",children:"–ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(q,{className:"w-5 h-5 text-blue-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"–ü—Ä–æ–≥–Ω–æ–∑ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏"})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[n.nextWeekConversion.toFixed(1),"%"]}),e.jsx("div",{className:"text-blue-300 text-sm",children:"–û–∂–∏–¥–∞–µ–º–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ"}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-blue-900/30 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-500",style:{width:`${n.nextWeekConversion}%`}})}),e.jsxs("span",{className:"text-blue-300 text-sm",children:[n.nextWeekConversion>t.conversionRate?"+":"",(n.nextWeekConversion-t.conversionRate).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/20 rounded-xl p-6 border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(we,{className:"w-5 h-5 text-green-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"–ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–∞"})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:[(n.expectedRevenue/1e3).toFixed(0),"K"]}),e.jsx("div",{className:"text-green-300 text-sm",children:"–û–∂–∏–¥–∞–µ–º—ã–π –¥–æ—Ö–æ–¥ (TRY)"}),e.jsxs("div",{className:"mt-4 text-green-300 text-sm",children:["+",((n.expectedRevenue/t.successfulRevenue-1)*100).toFixed(1),"% –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è"]})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ke,{className:"w-5 h-5 text-orange-400"}),e.jsx("h4",{className:"text-lg font-medium text-white",children:"–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞"})]}),e.jsx("div",{className:"space-y-3",children:n.riskFactors.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.impact==="–í—ã—Å–æ–∫–∏–π"?"bg-red-400":a.impact==="–°—Ä–µ–¥–Ω–∏–π"?"bg-yellow-400":"bg-green-400"}`}),e.jsx("span",{className:"text-white font-medium",children:a.factor})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-white/70 text-sm",children:[a.impact," —Ä–∏—Å–∫"]}),e.jsxs("span",{className:"text-white/70 text-sm",children:[a.probability,"%"]})]})]},i))})]}),e.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"}),e.jsx("div",{className:"space-y-4",children:s.map((a,i)=>e.jsxs("div",{className:"p-4 bg-white/5 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h5",{className:"text-white font-medium",children:a.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${a.impact==="–í—ã—Å–æ–∫–∏–π"?"bg-green-500/20 text-green-300":a.impact==="–°—Ä–µ–¥–Ω–∏–π"?"bg-yellow-500/20 text-yellow-300":"bg-blue-500/20 text-blue-300"}`,children:[a.impact," —ç—Ñ—Ñ–µ–∫—Ç"]}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs ${a.effort==="–í—ã—Å–æ–∫–∏–π"?"bg-red-500/20 text-red-300":a.effort==="–°—Ä–µ–¥–Ω–∏–π"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:[a.effort," —É—Å–∏–ª–∏—è"]})]})]}),e.jsx("p",{className:"text-white/70 text-sm",children:a.description})]},i))})]})]})}const Le=({dataSource:r="csv",preloadedData:t=null,onBackToSelector:n=null})=>{const[s,a]=_.useState(t||[]),[i,l]=_.useState(t||[]),[x,h]=_.useState(null),[m,c]=_.useState([]),[A,u]=_.useState([]),[b,p]=_.useState(!1),[N,f]=_.useState(null),[k,w]=_.useState(r==="api"?"platform":null),[I,o]=_.useState("UTC"),[y,j]=_.useState(null),[v,d]=_.useState(!0),[C,T]=_.useState({status:"",company:"",paymentMethod:"",transactionType:"",dateRange:{start:"",end:""},amountRange:{min:"",max:""}}),g=R=>{j(R),d(!1)},M=()=>{d(!0),j(null),a([]),l([]),h(null),c([]),u([])},O=R=>{p(!0),f(null);const F=new FileReader;F.onload=L=>{try{const S=L.target.result;console.log("File content preview:",S.substring(0,500));const U=ft(S,y);if(console.log("Parsed data:",U.length,"rows"),U.length===0){f("–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞."),p(!1);return}const P=U[0],z=P.hash||P.linkId||P.paymentMethod?"merchant":"platform";console.log("Detected data type:",z),a(U),l(U),w(z),p(!1)}catch(S){console.error("Error parsing file:",S),f("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–∞–π–ª–∞: "+S.message),p(!1)}},F.onerror=()=>{f("–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞"),p(!1)},F.readAsText(R)};_.useEffect(()=>{t&&t.length>0&&(console.log("Loading preloaded data:",t.length,"items from",r),a(t),l(t),w(r==="api"?"platform":"merchant"))},[t,r]);const V=R=>{console.log("üîç Applying filters:",R,"Data source:",r,"Data type:",k),console.log("üìã Sample data structure:",s.slice(0,2).map(L=>({status:L.status,company:L.company,paymentMethod:L.paymentMethod,transactionType:L.transactionType,type:L.type,isDeposit:L.isDeposit,isWithdraw:L.isWithdraw,createdAt:L.createdAt})));let F=[...s];if(R.status){const L=F.length;F=F.filter(S=>{if(r==="api"||r==="enhanced-api")return S.status===R.status;const U=(S.status||"").toLowerCase(),P=R.status.toLowerCase(),z=U===P||U.includes(P);return F.indexOf(S)<3&&console.log(`üîç Status filter debug for row ${F.indexOf(S)}:`,{rowStatus:S.status,rowStatusLower:U,filterStatus:R.status,filterStatusLower:P,matches:z}),z}),console.log(`üìä Status filter: ${L} ‚Üí ${F.length} (filter: "${R.status}")`)}if(R.company){const L=F.length;F=F.filter(S=>(S.company||S.project||"")===R.company),console.log(`üè¢ Company filter: ${L} ‚Üí ${F.length} (filter: "${R.company}")`)}if(R.paymentMethod){const L=F.length;F=F.filter(S=>(S.paymentMethod||S.paymentMethodCode||S.paymentProduct||"")===R.paymentMethod),console.log(`üí≥ Payment method filter: ${L} ‚Üí ${F.length} (filter: "${R.paymentMethod}")`)}if(R.transactionType){const L=F.length;F=F.filter(S=>{const U=S.transactionType||S.type||"",P=R.transactionType.toLowerCase(),z=U.toLowerCase(),Re=U===R.transactionType||z===P||P==="–¥–µ–ø–æ–∑–∏—Ç"&&(S.isDeposit||z.includes("deposit")||z.includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ"))||P==="–≤—ã–ø–ª–∞—Ç–∞"&&(S.isWithdraw||z.includes("withdraw")||z.includes("–≤—ã–≤–æ–¥"))||P.includes("deposit")&&(S.isDeposit||z.includes("deposit")||z.includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ"))||P.includes("withdraw")&&(S.isWithdraw||z.includes("withdraw")||z.includes("–≤—ã–≤–æ–¥"));return F.indexOf(S)<3&&console.log(`üîÑ Transaction type filter debug for row ${F.indexOf(S)}:`,{transactionType:S.transactionType,type:S.type,filterType:R.transactionType,filterTypeLower:P,transactionTypeLower:z,isDeposit:S.isDeposit,isWithdraw:S.isWithdraw,matches:Re}),Re}),console.log(`üîÑ Transaction type filter: ${L} ‚Üí ${F.length} (filter: "${R.transactionType}")`)}if(R.dateRange.start||R.dateRange.end){const L=F.length;console.log("üìÖ Date filter applied. Before:",L,"Range:",R.dateRange,"Timezone:",I),F=F.filter(S=>{if(!S.createdAt)return console.log("‚ö†Ô∏è Row without createdAt:",S.id||"unknown"),!0;const U=new Date(S.createdAt);if(isNaN(U.getTime()))return console.log("‚ö†Ô∏è Invalid date format:",S.createdAt),!0;let P;try{S.createdAt.includes(" ")?P=S.createdAt.split(" ")[0]:S.createdAt.includes("T")?P=S.createdAt.split("T")[0]:P=S.createdAt}catch(z){return console.log("‚ö†Ô∏è Error parsing date:",S.createdAt,z),!0}return!(R.dateRange.start&&P<R.dateRange.start||R.dateRange.end&&P>R.dateRange.end)}),console.log(`üìÖ Date filter: ${L} ‚Üí ${F.length} (range: ${R.dateRange.start} - ${R.dateRange.end})`)}(R.amountRange.min||R.amountRange.max)&&(F=F.filter(L=>{const S=parseFloat(L.amount)||0,U=parseFloat(R.amountRange.min)||0,P=parseFloat(R.amountRange.max)||1/0;return S>=U&&S<=P})),console.log(`üéØ Final result: ${s.length} ‚Üí ${F.length} rows (${(F.length/s.length*100).toFixed(1)}% remaining)`),console.log("üìã Applied filters summary:",{status:R.status||"none",company:R.company||"none",paymentMethod:R.paymentMethod||"none",transactionType:R.transactionType||"none",dateRange:R.dateRange.start||R.dateRange.end?`${R.dateRange.start} - ${R.dateRange.end}`:"none",amountRange:R.amountRange.min||R.amountRange.max?`${R.amountRange.min} - ${R.amountRange.max}`:"none"}),T(R),l(F)},G=R=>{o(R),V(C)};return _.useEffect(()=>{if(i.length>0&&k){const R=bt(i,k);h(R);const F=yt(i,R);c(F);const L=St(i);u(L)}},[i,k]),s.length===0&&r==="csv"?v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsx($t,{onProviderSelect:g,selectedProvider:y,onBack:n})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(q,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:y==="optipay"?"üáπüá∑ Optipay (–¢—É—Ä—Ü–∏—è)":y==="payshack"?"üáÆüá≥ Payshack (–ò–Ω–¥–∏—è)":"–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"})]}),e.jsx(Pt,{onFileUpload:O,loading:b}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:M,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"‚Üê –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"})}),N&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 text-red-300",children:N})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border-b border-white/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("p",{className:"text-gray-300",children:[i.length," –∑–∞–ø–∏—Å–µ–π –∏–∑ ",s.length," ‚Ä¢",r==="api"?e.jsx("span",{className:"text-green-400 ml-1",children:"üåê API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}):e.jsxs("span",{className:"text-blue-400 ml-1",children:["üìÇ ",y==="optipay"?"üáπüá∑ Optipay":y==="payshack"?"üáÆüá≥ Payshack":k==="platform"?"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞":"–ü—Ä–æ–≤–∞–π–¥–µ—Ä"]})]}),r==="api"&&e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-300 rounded-full text-xs border border-green-500/30",children:"–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[r==="csv"&&y&&e.jsx("button",{onClick:M,className:"px-4 py-2 bg-orange-500/20 text-orange-300 rounded-lg hover:bg-orange-500/30 transition-colors duration-200",children:"‚Üê –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"}),n&&e.jsx("button",{onClick:n,className:"px-4 py-2 bg-purple-500/20 text-purple-300 rounded-lg hover:bg-purple-500/30 transition-colors duration-200",children:"‚Üê –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö"}),r==="csv"&&e.jsx("button",{onClick:()=>{a([]),l([]),h(null),w(null),f(null),T({status:"",company:"",paymentMethod:"",transactionType:"",dateRange:{start:"",end:""},amountRange:{min:"",max:""}})},className:"px-4 py-2 bg-blue-500/20 text-blue-300 rounded-lg hover:bg-blue-500/30 transition-colors duration-200",children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª"}),r==="api"&&n&&e.jsx("button",{onClick:n,className:"px-4 py-2 bg-green-500/20 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors duration-200",children:"üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8",children:[x&&e.jsx(Et,{metrics:x,dataType:k}),e.jsx("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Vt,{data:s,filters:C,onFiltersChange:V,dataType:k})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞"})]})]}),e.jsx(Yt,{selectedTimezone:I,onTimezoneSelect:G})]})]})}),e.jsx(Ot,{data:i,metrics:x,dataType:k}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ —á–∞—Å–∞–º, –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ –∏ –¥–∏–Ω–∞–º–∏–∫–∞ ‚Ä¢ –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ",I]})]})]}),e.jsx(Wt,{data:i,timezone:I,dataType:k})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π"})]})]}),e.jsx(Kt,{data:i})]}),x&&e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Ve,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–ü—Ä–æ–≥–Ω–æ–∑—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö"})]})]}),e.jsx(Gt,{data:i,metrics:x})]}),r==="api"?e.jsx(zt,{data:i}):e.jsx(Ut,{data:i,dataType:k}),m.length>0&&e.jsx(Bt,{insights:m}),A.length>0&&e.jsx(qt,{data:i,anomalies:A})]})]})},Ht=({onSourceChange:r,currentSource:t,onReconciliationClick:n})=>{const[s,a]=_.useState(t||"csv"),i=[{id:"csv",title:"–ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞",description:"–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏–∑ CSV —Ñ–∞–π–ª–∞",icon:re,color:"from-blue-500 to-cyan-600",features:["–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π","–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤","–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞","–î–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"]},{id:"api",title:"API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã",description:"–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞",icon:Z,color:"from-green-500 to-emerald-600",features:["–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è","–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º","–†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è","–î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"]},{id:"enhanced-api",title:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API üöÄ",description:"–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞: –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–∞—Ö",icon:ue,color:"from-purple-500 to-pink-600",features:["üí∞ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç","üí≥ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–∞—Ö","üí± –í–∞–ª—é—Ç–Ω—ã–µ –∫—É—Ä—Å—ã","üõ°Ô∏è 3D Secure –¥–∞–Ω–Ω—ã–µ","üåç IP –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è"],isNew:!0}],l=x=>{a(x),r(x)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ue,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:i.map(x=>{const h=x.icon,m=s===x.id;return e.jsxs("div",{className:`relative group cursor-pointer transition-all duration-300 ${m?"scale-105 z-10":"hover:scale-102 hover:z-10"}`,onClick:()=>l(x.id),children:[e.jsxs("div",{className:`
                  bg-white/10 backdrop-blur-xl rounded-2xl p-8 border transition-all duration-300
                  ${m?"border-blue-500/50 bg-white/15 shadow-2xl shadow-blue-500/20":"border-white/20 hover:border-white/30 hover:bg-white/15"}
                `,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${x.color} rounded-xl flex items-center justify-center`,children:e.jsx(h,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:x.title}),e.jsx("p",{className:"text-gray-300",children:x.description})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:"}),e.jsx("ul",{className:"space-y-2",children:x.features.map((c,A)=>e.jsxs("li",{className:"flex items-center space-x-2 text-gray-300",children:[e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full"}),e.jsx("span",{children:c})]},A))})]}),m&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 ${m?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/10 text-white hover:bg-white/20"}`,children:m?"–í—ã–±—Ä–∞–Ω–æ":"–í—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫"})})]}),m&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-2xl blur-xl -z-10"})]},x.id)})}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Q,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"üìÇ CSV —Ñ–∞–π–ª—ã (–ø—Ä–æ–≤–∞–π–¥–µ—Ä)"}),e.jsxs("ul",{className:"space-y-1 text-gray-300",children:[e.jsx("li",{children:"‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö"}),e.jsx("li",{children:"‚Ä¢ –î–∞–Ω–Ω—ã–µ –æ—Ç Carrousel-Zorro, Zro_Monetix"}),e.jsx("li",{children:"‚Ä¢ –°—Ç–∞—Ç—É—Å—ã: Completed, Canceled, Failed"}),e.jsx("li",{children:"‚Ä¢ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∏—Å—Å–∏—è—Ö"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"üåê API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}),e.jsxs("ul",{className:"space-y-1 text-gray-300",children:[e.jsx("li",{children:"‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"}),e.jsx("li",{children:"‚Ä¢ –ü—Ä–æ–µ–∫—Ç—ã: Monetix, Caroussel"}),e.jsx("li",{children:"‚Ä¢ –°—Ç–∞—Ç—É—Å—ã: Success, Fail"}),e.jsx("li",{children:"‚Ä¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º –∏ –ø—Ä–æ–µ–∫—Ç–∞–º"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-white mb-2",children:["üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API ",e.jsx("span",{className:"text-xs bg-purple-500/30 px-2 py-1 rounded-full",children:"–ù–û–í–û–ï"})]}),e.jsxs("ul",{className:"space-y-1 text-gray-300",children:[e.jsx("li",{children:"‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç (fiat/crypto)"}),e.jsx("li",{children:"‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–∞—Ö –∏ 3D Secure"}),e.jsx("li",{children:"‚Ä¢ –í–∞–ª—é—Ç–Ω—ã–µ –∫—É—Ä—Å—ã –∏ MCC –∫–æ–¥—ã"}),e.jsx("li",{children:"‚Ä¢ IP –∞–¥—Ä–µ—Å–∞ –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"üîÑ –°–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"–°—Ä–∞–≤–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π"}),e.jsx("button",{onClick:n,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white font-semibold rounded-lg shadow-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200",children:"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–µ—Ä–∫—É"})]})}),s&&e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>r(s),className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 text-lg",children:["–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å ",s==="csv"?"CSV —Ñ–∞–π–ª–∞–º–∏":s==="enhanced-api"?"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º API":"API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"]})})]})})},Zt={}.VITE_API_BASE_URL||"https://payment.woozuki.com/collector1/api/v1",Xt={}.VITE_API_KEY||"master-3E193252DE4A4B4C80862F67B2972D3D";class Jt{constructor(){this.baseUrl=Zt,this.apiKey=Xt}buildUrl(t,n={}){const s=new URL(`${this.baseUrl}/${t}`);return s.searchParams.set("apikey",this.apiKey),Object.entries(n).forEach(([a,i])=>{i!=null&&i!==""&&s.searchParams.set(a,i)}),s.toString()}async makeRequest(t,n={}){const s=this.buildUrl(t,n);console.log("API Request URL:",s);try{const a=await fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=await a.json();return console.log("API Response:",i),i}catch(a){throw console.error("API Request failed:",a),a}}async getOperations(t={}){const n={};return t.project&&(n.project=t.project),t.status&&(n.status=t.status),t.descending!==void 0&&(n.descending=t.descending),t.count&&(n.count=t.count),t.date&&(n.date=t.date),t.from&&(n.from=t.from),t.to&&(n.to=t.to),await this.makeRequest("operation",n)}async getLatestOperations(t,n=100){return await this.getOperations({project:t,descending:!0,count:n,status:"success"})}async getOperationsByDate(t,n,s=null){const a={project:t,date:n,descending:!1};return s&&(a.status=s),await this.getOperations(a)}async getOperationsByDateRange(t,n,s,a=null){const i={project:t,from:n,to:s,descending:!1};return a&&(i.status=a),await this.getOperations(i)}getAvailableProjects(){return[{value:"",label:"–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã"},{value:"monetix",label:"Monetix"},{value:"caroussel",label:"Caroussel"}]}getAvailableStatuses(){return[{value:"success",label:"–£—Å–ø–µ—à–Ω–æ"},{value:"fail",label:"–û—à–∏–±–∫–∞"},{value:"in_process",label:"–í –ø—Ä–æ—Ü–µ—Å—Å–µ"}]}}const me=new Jt;function Qt(r){if(!r||!Array.isArray(r))return console.warn("Invalid API data:",r),[];console.log(`Normalizing ${r.length} operations from API`);const t=r.map((n,s)=>{var b,p,N,f,k,w,I,o;console.log(`Processing operation ${s+1}:`,{id:n.operation_id,status:n.current_status,hasComplete:!!n.complete_amount,hasCardStart:!!(n.card_start&&n.card_start.length>0),hasCreateParams:!!n.create_params});let a="",i="",l="";try{if((f=(N=(p=(b=n.create_params)==null?void 0:b.params)==null?void 0:p.payment)==null?void 0:N.payer)!=null&&f.person){const y=n.create_params.params.payment.payer.person;i=y.first_name||"",l=y.last_name||"",a=`${i} ${l}`.trim()}}catch(y){console.warn("Error extracting user name:",y)}const x=((k=n.create_params)==null?void 0:k.method)||"",h=x==="payment.in",m=x==="payment.out";let c=0,A="TRY";if(n.complete_amount)c=parseFloat(n.complete_amount),A=n.complete_currency||"TRY";else if(n.card_start&&n.card_start.length>0)c=parseFloat(n.card_start[0].amount||0),A=n.card_start[0].currency||"TRY";else try{const y=(o=(I=(w=n.create_params)==null?void 0:w.params)==null?void 0:I.payment)==null?void 0:o.amount;y&&(c=parseFloat(y.value||0)/100,A=y.currency||"TRY")}catch(y){console.warn("Error extracting amount from create_params:",y)}console.log(`Operation ${n.operation_id}: amount=${c} ${A}, source=${n.complete_amount?"complete":n.card_start&&n.card_start.length>0?"card_start":"create_params"}`);let u=0;try{n.card_finish&&n.card_finish.length>0&&(u=parseFloat(n.card_finish[0].charged_fee||0))}catch(y){console.warn("Error extracting fee:",y)}return{id:n.operation_id||n.reference_id||"",status:n.current_status||n.payment_status||"",amount:c,type:h?"deposit":m?"withdraw":"unknown",company:n.project||"",fee:u,feeRatio:u>0&&c>0?`${(u/c*100).toFixed(2)}%`:"0%",transactionType:h?"–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ":m?"–í—ã–≤–æ–¥":"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",isDeposit:h,isWithdraw:m,userName:a||n.user_id||"",userId:n.user_id||"",fullName:a,createdAt:n.operation_created_at||n.complete_created_at||"",processedAt:n.complete_modified_at||n.operation_modified_at||"",paymentMethod:n.payment_method_code||n.payment_product||"",paymentGateway:n.payment_product||"",hash:n.operation_id||"",ipAddress:n.ip_addr||"",linkId:n.reference_id||"",clientOperationId:n.client_operation_id||"",isCompleted:(n.current_status||"").toLowerCase()==="success",isCanceled:!1,isFailed:(n.current_status||"").toLowerCase()==="fail",isInProcess:(n.current_status||"").toLowerCase()==="in_process",amountFormatted:new Intl.NumberFormat("tr-TR",{style:"currency",currency:A}).format(c),feeFormatted:new Intl.NumberFormat("tr-TR",{style:"currency",currency:A}).format(u),operationState:n.operation_state||"",paymentMethodType:n.payment_method_type||"",integrationMethod:n.integration_type||"",serviceEnv:n.service_env||"",projectEnv:n.project_env||"",dataSource:"api"}}).filter(n=>{const s=n.id&&(n.amount>0||n.status==="in_process");return s||console.warn("Skipping invalid operation:",{id:n.id,amount:n.amount,status:n.status}),s});return console.log(`Successfully normalized ${t.length} valid operations`),t.length>0&&console.log("Sample normalized operation:",t[0]),t}const Ce="/.netlify/functions";async function es(r,t){try{console.log("üì§ Sending files to reconciliation server..."),console.log("üîó API URL:",Ce);const n=50*1024*1024;if(console.log("üìä File sizes:",{merchant:`${(r.size/1024/1024).toFixed(2)}MB`,platform:`${(t.size/1024/1024).toFixed(2)}MB`,merchantBytes:r.size,platformBytes:t.size,maxSizeBytes:n}),r.size>n||t.size>n)throw new Error(`–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 50MB. Merchant: ${(r.size/1024/1024).toFixed(2)}MB, Platform: ${(t.size/1024/1024).toFixed(2)}MB`);console.log("üìÑ Converting files to base64...");const s=await Pe(r),a=await Pe(t);console.log("üì§ Sending request to server...");const i=await fetch(`${Ce}/reconcile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantFile:s,platformFile:a})});if(!i.ok){const x=await i.json();throw new Error(x.error||`HTTP ${i.status}: ${i.statusText}`)}const l=await i.json();return console.log("‚úÖ Reconciliation completed successfully"),l}catch(n){throw console.error("‚ùå Reconciliation API error:",n),n}}function Pe(r){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const a=s.result.split(",")[1];t(a)},s.onerror=()=>n(new Error("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞")),s.readAsDataURL(r)})}async function ts(){try{const r=await fetch(`${Ce}/health`);if(r.ok){const t=await r.json();return console.log("‚úÖ Server health check passed:",t),!0}else return console.warn("‚ö†Ô∏è Server health check failed:",r.status),!1}catch(r){return console.error("‚ùå Server health check error:",r),!1}}const ss=({onDataLoad:r,loading:t,setLoading:n,onBack:s=null})=>{const[a,i]=_.useState({project:"",status:"success",dateMode:"latest",date:"",from:"",to:"",count:100,descending:!0}),[l,x]=_.useState(null),h=me.getAvailableProjects(),m=me.getAvailableStatuses(),c=[{value:"latest",label:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"},{value:"single",label:"–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞"},{value:"range",label:"–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç"}],A=async()=>{n(!0),x(null);try{let b={status:a.status,descending:a.descending};switch(a.project&&(b.project=a.project),a.dateMode){case"latest":b.count=a.count;break;case"single":if(!a.date){x("–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É"),n(!1);return}b.date=a.date;break;case"range":if(!a.from||!a.to){x("–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç"),n(!1);return}b.from=a.from,b.to=a.to;break}console.log("Loading data with filters:",b);const p=await me.getOperations(b);r(p,"api")}catch(b){console.error("Failed to load API data:",b),x(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ${b.message}`)}finally{n(!1)}},u=[{name:"–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã (100 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)",action:()=>{i({...a,project:"",status:"success",dateMode:"latest",count:100,descending:!0})}},{name:"–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã (50 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)",action:()=>{i({...a,project:"",status:"",dateMode:"latest",count:50,descending:!0})}},{name:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 Monetix",action:()=>{i({...a,project:"monetix",status:"success",dateMode:"latest",count:50,descending:!0})}},{name:"–°–µ–≥–æ–¥–Ω—è –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã",action:()=>{const b=new Date().toISOString().split("T")[0];i({...a,project:"",status:"success",dateMode:"single",date:b})}},{name:"–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã",action:()=>{const b=new Date,p=new Date(b.getTime()-7*24*60*60*1e3);i({...a,project:"",dateMode:"range",from:p.toISOString().split("T")[0],to:b.toISOString().split("T")[0]})}}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Z,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"API –ö–æ–ª–ª–µ–∫—Ç–æ—Ä–∞"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}),s&&e.jsx("button",{onClick:s,className:"mt-4 px-6 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200",children:"‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 text-green-400 mr-2"}),"–ü—Ä–æ–µ–∫—Ç"]}),e.jsx("select",{value:a.project,onChange:b=>i({...a,project:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:h.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full mr-2"}),"–°—Ç–∞—Ç—É—Å"]}),e.jsxs("select",{value:a.status,onChange:b=>i({...a,status:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"",children:"–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã"}),m.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–†–µ–∂–∏–º –≤—ã–±–æ—Ä–∫–∏"]}),e.jsx("select",{value:a.dateMode,onChange:b=>i({...a,dateMode:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:c.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))})]}),a.dateMode==="latest"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(H,{className:"w-4 h-4 text-blue-400 mr-2"}),"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π"]}),e.jsx("input",{type:"number",min:"1",max:"1000",value:a.count,onChange:b=>i({...a,count:parseInt(b.target.value)||100}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.dateMode==="single"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–î–∞—Ç–∞"]}),e.jsx("input",{type:"date",value:a.date,onChange:b=>i({...a,date:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.dateMode==="range"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–û—Ç"]}),e.jsx("input",{type:"date",value:a.from,onChange:b=>i({...a,from:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–î–æ"]}),e.jsx("input",{type:"date",value:a.to,onChange:b=>i({...a,to:b.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("label",{className:"flex items-center space-x-2 text-white",children:[e.jsx("input",{type:"checkbox",checked:a.descending,onChange:b=>i({...a,descending:b.target.checked}),className:"w-4 h-4 text-green-600 bg-white/10 border-white/20 rounded focus:ring-green-500"}),e.jsx("span",{children:"–ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ —Å–≤–µ—Ä—Ö—É"})]})}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{onClick:A,disabled:t,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center space-x-2 ${t?"bg-gray-500 cursor-not-allowed":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"} text-white`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"w-5 h-5"}),e.jsx("span",{children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"})]})})}),l&&e.jsx("div",{className:"mt-4 p-4 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300",children:l})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"–ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u.map((b,p)=>e.jsx("button",{onClick:b.action,className:"p-4 bg-white/10 rounded-lg text-white hover:bg-white/20 transition-colors duration-200 text-left",children:b.name},p))})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-300",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("span",{className:"text-green-400",children:"Monetix"})," - –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("span",{className:"text-blue-400",children:"Caroussel"})," - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"–°—Ç–∞—Ç—É—Å—ã –æ–ø–µ—Ä–∞—Ü–∏–π:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("span",{className:"text-green-400",children:"Success"})," - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("span",{className:"text-red-400",children:"Fail"})," - –Ω–µ—É–¥–∞—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"]})]})]})]})]})]})})};class as{constructor(){this.baseApi=me,this.endpoints={operations:"operation",analytics:"analytics",realtime:"realtime",notifications:"notifications",insights:"insights",users:"users",geography:"geography",performance:"performance"}}async getOperations(t={}){return await this.baseApi.getOperations(t)}getAvailableProjects(){return this.baseApi.getAvailableProjects()}getAvailableStatuses(){return this.baseApi.getAvailableStatuses()}async getOperationsEnhanced(t={}){console.log("üöÄ Enhanced API Request - Input filters:",t);const n={};t.project_id&&(n.project=t.project_id),t.status&&(n.status=t.status),t.count&&(n.count=t.count),t.descending!==void 0&&(n.descending=t.descending),t.date&&(n.date=t.date),t.from&&(n.from=t.from),t.to&&(n.to=t.to),console.log("üì§ API Request parameters:",n);try{const s=await this.baseApi.makeRequest("operation",n);return console.log("üì• Raw API Response:",{dataType:typeof s,isArray:Array.isArray(s),length:Array.isArray(s)?s.length:"not array",firstItem:Array.isArray(s)&&s.length>0?s[0]:null}),Array.isArray(s)&&s.length>0&&console.log("üìã Sample data structure:",{keys:Object.keys(s[0]),status:s[0].operation_status||s[0].status,amount:s[0].operation_amount||s[0].amount,date:s[0].operation_created_at||s[0].date}),s}catch(s){throw console.error("‚ùå Enhanced API Request failed:",s),s}}async getRealTimeData(t={}){return console.log("Real-time data - awaiting API documentation"),null}async getNotifications(t={}){return console.log("Notifications - awaiting API documentation"),null}async getInsights(t={}){return console.log("AI Insights - awaiting API documentation"),null}async getUserAnalytics(t={}){return console.log("User analytics - awaiting API documentation"),null}async getGeographyData(t={}){return console.log("Geography data - awaiting API documentation"),null}async getPerformanceMetrics(t={}){return console.log("Performance metrics - awaiting API documentation"),null}async getComparativeAnalysis(t,n){return console.log("Comparative analysis - awaiting API documentation"),null}async getForecast(t={}){return console.log("Forecast - awaiting API documentation"),null}async makeEnhancedRequest(t,n={}){const s={}.REACT_APP_API_BASE_URL||"https://sandbox.finmar.tech/collector/api/v3",a=new URLSearchParams;Object.entries(n).forEach(([l,x])=>{x!=null&&x!==""&&a.append(l,x)});const i=`${s}/${t}${a.toString()?"?"+a.toString():""}`;try{const l=btoa(`${{}.REACT_APP_API_USERNAME||""}:${{}.REACT_APP_API_PASSWORD||""}`),x=await fetch(i,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Basic ${l}`}});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const h=await x.json();return console.log(`Enhanced API Response from ${t}:`,h),h}catch(l){throw console.error(`Enhanced API Request to ${t} failed:`,l),l}}async checkEndpointAvailability(t){try{const n={}.REACT_APP_API_BASE_URL||"https://sandbox.finmar.tech/collector/api/v3",s=btoa(`${{}.REACT_APP_API_USERNAME||""}:${{}.REACT_APP_API_PASSWORD||""}`);return(await fetch(`${n}/${t}`,{method:"HEAD",headers:{Authorization:`Basic ${s}`}})).ok}catch{return!1}}async getEndpointSchema(t){try{return await this.makeEnhancedRequest(`${t}/schema`)}catch{return null}}}const rs=new as;function ns(r,t="operations"){switch(t){case"operations":return $e(r);case"enhanced-operations":return $e(r);case"users":return r;case"geography":return r;default:return console.warn(`Unknown data type: ${t}`),r}}function $e(r){if(console.log("üîÑ Starting data normalization:",{inputType:typeof r,isArray:Array.isArray(r),length:Array.isArray(r)?r.length:"not array"}),!r||!Array.isArray(r))return console.warn("‚ùå Invalid enhanced API data:",r),[];if(r.length>0){const s=r[0],a=Object.keys(s),i=a.filter(l=>l.toLowerCase().includes("direction")||l.toLowerCase().includes("type")||l.toLowerCase().includes("method")||l.toLowerCase().includes("operation"));console.log("üîç Available fields for direction detection:",{totalFields:a.length,directionRelatedFields:i,sampleKeys:a.slice(0,10)})}const t=r.map((s,a)=>{var o,y,j,v,d,C,T,g,M,O,V,G,R,F,L;a<3&&console.log(`üîç Processing operation ${a+1}:`,{originalKeys:Object.keys(s),operation_status:s.operation_status,status:s.status,operation_amount:s.operation_amount,amount:s.amount,operation_created_at:s.operation_created_at,date:s.date});let i=0,l="TRY",x=0;if(s.card_start&&s.card_start.length>0){const S=s.card_start[0];i=parseFloat(S.amount||0),l=S.currency||"TRY"}if(i===0&&((j=(y=(o=s.create_params)==null?void 0:o.params)==null?void 0:y.payment)!=null&&j.amount)){const S=s.create_params.params.payment.amount;i=parseFloat(S.value||0)/100,l=S.currency||"TRY"}i===0&&(i=parseFloat(s.operation_amount||((v=s.payment_info)==null?void 0:v.amount)||s.amount||s.transactionAmount||0)),l==="TRY"&&s.operation_currency&&(l=s.operation_currency),a<3&&console.log(`üí∞ Amount extraction for operation ${a+1}:`,{card_start_amount:(C=(d=s.card_start)==null?void 0:d[0])==null?void 0:C.amount,create_params_amount:(O=(M=(g=(T=s.create_params)==null?void 0:T.params)==null?void 0:g.payment)==null?void 0:M.amount)==null?void 0:O.value,final_amount:i,currency:l});const h=((V=s.create_params)==null?void 0:V.method)||"";let m=!1,c=!1,A="unknown";if(h==="payment.in"?(m=!0,A="deposit"):h==="payment.out"&&(c=!0,A="withdraw"),!m&&!c&&s.operation_type){const S=s.operation_type.toLowerCase();S.includes("deposit")||S.includes("in")||S.includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ")?(m=!0,A="deposit"):(S.includes("withdraw")||S.includes("out")||S.includes("–≤—ã–≤–æ–¥"))&&(c=!0,A="withdraw")}if(!m&&!c&&s.transaction_type){const S=s.transaction_type.toLowerCase();S.includes("deposit")||S.includes("in")||S.includes("–ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ")?(m=!0,A="deposit"):(S.includes("withdraw")||S.includes("out")||S.includes("–≤—ã–≤–æ–¥"))&&(c=!0,A="withdraw")}if(!m&&!c&&((G=s.payment_info)!=null&&G.direction)){const S=s.payment_info.direction.toLowerCase();S==="in"||S==="deposit"?(m=!0,A="deposit"):(S==="out"||S==="withdraw")&&(c=!0,A="withdraw")}if(!m&&!c&&s.direction){const S=s.direction.toLowerCase();S==="in"||S==="deposit"||S==="incoming"?(m=!0,A="deposit"):(S==="out"||S==="withdraw"||S==="outgoing")&&(c=!0,A="withdraw")}if(!m&&!c&&s.flow){const S=s.flow.toLowerCase();S==="in"||S==="deposit"||S==="incoming"?(m=!0,A="deposit"):(S==="out"||S==="withdraw"||S==="outgoing")&&(c=!0,A="withdraw")}!m&&!c&&i!==0&&(i>0?(m=!0,A="deposit"):i<0&&(c=!0,A="withdraw",i=Math.abs(i)));const u=s.payment_method_code||s.payment_method||((R=s.payment_info)==null?void 0:R.method)||"unknown",b=s.payment_method_type||"fiat",p=b==="crypto"||u.toLowerCase().includes("crypto")||u.toLowerCase().includes("bitcoin")||u.toLowerCase().includes("ethereum"),N=!p;a<3&&console.log(`üè¶ Transaction type for operation ${a+1}:`,{"create_params.method":h,operation_type:s.operation_type,transaction_type:s.transaction_type,"payment_info.direction":(F=s.payment_info)==null?void 0:F.direction,direction:s.direction,flow:s.flow,amount:i,transactionDirection:A,isDeposit:m,isWithdraw:c,paymentMethod:u,paymentMethodType:b,isCrypto:p});const f=s.current_status||s.payment_status||s.operation_status||s.status||"unknown",k=f.toLowerCase();a<3&&console.log(`üìä Status extraction for operation ${a+1}:`,{current_status:s.current_status,payment_status:s.payment_status,operation_status:s.operation_status,final_status:f});const w=k==="success"||k==="completed"||k==="complete",I={id:s.operation_id||s.id,status:f,amount:i,currency:l,fee:x,feeRatio:x>0&&i>0?`${(x/i*100).toFixed(2)}%`:"0%",type:A,isDeposit:m,isWithdraw:c,transactionType:m?"–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ":c?"–í—ã–≤–æ–¥":"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",directionSources:{"create_params.method":h,operation_type:s.operation_type||null,transaction_type:s.transaction_type||null,"payment_info.direction":((L=s.payment_info)==null?void 0:L.direction)||null,direction:s.direction||null,flow:s.flow||null,determined_direction:A,detection_success:A!=="unknown"},referenceId:s.reference_id||s.operation_id||s.id,clientOperationId:s.client_operation_id||s.operation_hash||s.hash,project:s.project||s.project_name||"unknown",credentialsOwner:s.credentials_owner||s.project||"unknown",userId:s.user_id||s.id||"unknown",ipAddress:s.ip_addr||s.user_ip||null,contact:s.contact||null,paymentProduct:s.payment_product||"api_payment",paymentMethodType:s.payment_method_type||(p?"crypto":"fiat"),paymentMethodCode:s.payment_method_code||u,isCrypto:p,isFiat:N,operationState:s.operation_state||(w?"complete":"in_process"),paymentStatusFlag:s.payment_status_flag||{success:w,in_process:k==="in_process"||k==="processing",fail:k==="fail"||k==="failed",user_input_required:k.includes("input")},service:s.service||null,serviceEnv:s.service_env||null,projectEnv:s.project_env||null,integrationType:s.integration_type||"api",cardInfo:s.payment_info?{cardNumber:s.payment_info.card_number||null,panToken:null,paymentMethodId:null,paymentSystemId:null,paymentMethodName:s.payment_method||u,paymentSystemName:null}:null,cardFinishInfo:{mccCode:null,is3DSecureAttempted:!1,result:f},rates:{},hasRates:!1,createdAt:s.operation_created_at||s.date||new Date().toISOString(),modifiedAt:s.operation_modified_at||s.operation_updated_at||s.date||new Date().toISOString(),completeCreatedAt:s.operation_created_at||s.date||new Date().toISOString(),completeModifiedAt:s.operation_modified_at||s.operation_updated_at||s.date||new Date().toISOString(),callbacks:[],hasCallbacks:!1,isCompleted:w,isInProcess:k==="in_process"||k==="processing",isFailed:k==="fail"||k==="failed",requiresUserInput:k.includes("input"),amountFormatted:new Intl.NumberFormat("en-US",{style:"currency",currency:l,minimumFractionDigits:0}).format(i),feeFormatted:new Intl.NumberFormat("en-US",{style:"currency",currency:l,minimumFractionDigits:0}).format(x),dataSource:"enhanced-api"};return a<3&&console.log(`‚úÖ Normalized operation ${a+1}:`,{id:I.id,status:I.status,amount:I.amount,isCompleted:I.isCompleted,isSuccessful:w,rawStatus:f,normalizedStatus:k}),I}),n=t.reduce((s,a)=>(s.total++,a.isDeposit&&s.deposits++,a.isWithdraw&&s.withdrawals++,a.type==="unknown"&&s.unknown++,s),{total:0,deposits:0,withdrawals:0,unknown:0});return console.log("üèÅ Enhanced normalization complete:",{totalOperations:t.length,successfulCount:t.filter(s=>s.isCompleted).length,statusBreakdown:t.reduce((s,a)=>(s[a.status]=(s[a.status]||0)+1,s),{}),directionBreakdown:{deposits:n.deposits,withdrawals:n.withdrawals,unknown:n.unknown,detectionRate:((n.deposits+n.withdrawals)/n.total*100).toFixed(1)+"%"}}),t}const Ke=_.forwardRef(({className:r,variant:t="default",size:n="md",loading:s=!1,disabled:a=!1,children:i,...l},x)=>{const h="inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",m={default:"bg-white/10 text-white hover:bg-white/20 focus:ring-white/50 border border-white/20 hover:border-white/30",primary:"bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 focus:ring-purple-500 shadow-lg",success:"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 focus:ring-green-500 shadow-lg",danger:"bg-gradient-to-r from-red-500 to-pink-500 text-white hover:from-red-600 hover:to-pink-600 focus:ring-red-500 shadow-lg",ghost:"text-gray-300 hover:text-white hover:bg-white/10 focus:ring-white/30",outline:"border border-gray-600 text-gray-300 hover:text-white hover:border-gray-500 hover:bg-white/5 focus:ring-gray-500"},c={sm:"px-3 py-1.5 text-sm rounded-lg",md:"px-4 py-2 text-sm rounded-lg",lg:"px-6 py-3 text-base rounded-xl",xl:"px-8 py-4 text-lg rounded-xl"};return e.jsxs("button",{ref:x,className:he(h,m[t],c[n],(s||a)&&"cursor-not-allowed",r),disabled:s||a,...l,children:[s&&e.jsxs("svg",{className:"w-4 h-4 mr-2 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});Ke.displayName="Button";const ls=({onDataLoad:r,loading:t,setLoading:n,onBack:s=null})=>{const[a,i]=_.useState({project_id:"",status:"success",payment_method_type:"",operation_state:"",reference_id:"",client_operation_id:"",dateMode:"latest",date:"",from:"",to:"",count:100,descending:!0,from_operation_create_id:"",credentials_owner:""}),[l,x]=_.useState(null),[h,m]=_.useState(!1),c=[{value:"",label:"–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã"},{value:"preview",label:"Preview"},{value:"monetix",label:"Monetix"},{value:"caroussel",label:"Caroussel"}],A=[{value:"",label:"–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã"},{value:"success",label:"–£—Å–ø–µ—à–Ω–æ"},{value:"fail",label:"–û—à–∏–±–∫–∞"},{value:"in_process",label:"–í –ø—Ä–æ—Ü–µ—Å—Å–µ"},{value:"user_input_required",label:"–¢—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞"}],u=[{value:"",label:"–í—Å–µ —Ç–∏–ø—ã"}],b=[{value:"latest",label:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"},{value:"single",label:"–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞"},{value:"range",label:"–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç"}],p=async()=>{n(!0),x(null);try{let f={status:a.status,payment_method_type:a.payment_method_type,operation_state:a.operation_state,descending:a.descending};switch(a.project_id&&(f.project_id=a.project_id),a.reference_id&&(f.reference_id=a.reference_id),a.client_operation_id&&(f.client_operation_id=a.client_operation_id),a.from_operation_create_id&&(f.from_operation_create_id=a.from_operation_create_id),a.credentials_owner&&(f.credentials_owner=a.credentials_owner),a.dateMode){case"latest":f.count=a.count;break;case"single":if(!a.date){x("–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É"),n(!1);return}f.date=a.date;break;case"range":if(!a.from||!a.to){x("–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç"),n(!1);return}f.from=a.from,f.to=a.to;break}console.log("üéØ Loading enhanced data with filters:",f);const k=await rs.getOperationsEnhanced(f);console.log("üì¶ Raw data received from API:",{type:typeof k,isArray:Array.isArray(k),length:Array.isArray(k)?k.length:"not array",firstItem:Array.isArray(k)&&k.length>0?k[0]:null});const w=ns(k,"enhanced-operations");console.log("üîÑ Normalized data ready:",{length:w.length,successfulCount:w.filter(I=>I.isCompleted).length,sampleItem:w[0]||null}),r(w,"enhanced-api")}catch(f){console.error("Failed to load enhanced API data:",f),x(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ${f.message}`)}finally{n(!1)}},N=[{name:"–í—Å–µ —É—Å–ø–µ—à–Ω—ã–µ (100 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)",description:"–§–∏–∞—Ç + –ö—Ä–∏–ø—Ç–æ",action:()=>{i({...a,project_id:"",status:"success",payment_method_type:"",dateMode:"latest",count:100,descending:!0})}},{name:"–ü–æ—Å–ª–µ–¥–Ω–∏–µ 50",description:"–ù–µ–¥–∞–≤–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏",action:()=>{i({...a,project_id:"",status:"success",payment_method_type:"",dateMode:"latest",count:50,descending:!0})}},{name:"–í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏",description:"–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏",action:()=>{i({...a,project_id:"",status:"in_process",payment_method_type:"",operation_state:"in_process",dateMode:"latest",count:50,descending:!0})}},{name:"–°–µ–≥–æ–¥–Ω—è –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã",description:"–û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è",action:()=>{const f=new Date().toISOString().split("T")[0];i({...a,project_id:"",status:"",dateMode:"single",date:f})}}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Z,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å API"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"}),s&&e.jsx("button",{onClick:s,className:"mt-4 px-6 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200",children:"‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:N.map((f,k)=>e.jsx($,{className:"cursor-pointer hover:scale-105 transition-transform",onClick:f.action,children:e.jsxs(E,{className:"p-4 text-center",children:[e.jsx("h3",{className:"font-medium text-white mb-1",children:f.name}),e.jsx("p",{className:"text-xs text-gray-400",children:f.description})]})},k))}),e.jsx($,{children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 text-green-400 mr-2"}),"–ü—Ä–æ–µ–∫—Ç"]}),e.jsx("select",{value:a.project_id,onChange:f=>i({...a,project_id:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:c.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full mr-2"}),"–°—Ç–∞—Ç—É—Å"]}),e.jsx("select",{value:a.status,onChange:f=>i({...a,status:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:A.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 text-yellow-400 mr-2"}),"–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞"]}),e.jsx("select",{value:a.payment_method_type,onChange:f=>i({...a,payment_method_type:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:u.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-white flex items-center",children:[e.jsx(Y,{className:"w-4 h-4 text-purple-400 mr-2"}),"–†–µ–∂–∏–º –≤—ã–±–æ—Ä–∫–∏"]}),e.jsx("select",{value:a.dateMode,onChange:f=>i({...a,dateMode:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:b.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.dateMode==="latest"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π"}),e.jsx("input",{type:"number",min:"1",max:"1000",value:a.count,onChange:f=>i({...a,count:parseInt(f.target.value)||100}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.dateMode==="single"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"–î–∞—Ç–∞"}),e.jsx("input",{type:"date",value:a.date,onChange:f=>i({...a,date:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),a.dateMode==="range"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"–û—Ç"}),e.jsx("input",{type:"date",value:a.from,onChange:f=>i({...a,from:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"–î–æ"}),e.jsx("input",{type:"date",value:a.to,onChange:f=>i({...a,to:f.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]}),e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsxs("button",{onClick:()=>m(!h),className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors mb-4",children:[e.jsx(W,{className:"w-4 h-4"}),"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã",e.jsx(J,{className:`w-4 h-4 transition-transform ${h?"rotate-180":""}`})]}),h&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã"}),e.jsx("p",{className:"text-sm text-gray-400",children:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö"})]})})]}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs(Ke,{onClick:p,loading:t,size:"lg",variant:"primary",className:"px-8",children:[e.jsx(qe,{className:"w-5 h-5 mr-2"}),"–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"]})}),l&&e.jsx("div",{className:"mt-4 p-4 bg-red-500/20 border border-red-500/30 rounded-xl text-red-300",children:l})]})}),e.jsx($,{variant:"primary",children:e.jsxs(E,{className:"p-6",children:[e.jsxs(ee,{className:"mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-purple-400"}),"–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-gray-300",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"üìä –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"‚Ä¢ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –æ–±—ä–µ–º–æ–≤"}),e.jsx("li",{children:"‚Ä¢ –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"}),e.jsx("li",{children:"‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–∏—Å–∫–æ–º"}),e.jsx("li",{children:"‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white mb-2",children:"üîç –£–¥–æ–±–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏"}),e.jsx("li",{children:"‚Ä¢ –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º –∏ —Å—Ç–∞—Ç—É—Å–∞–º"}),e.jsx("li",{children:"‚Ä¢ –ì–∏–±–∫–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞—Ç"}),e.jsx("li",{children:"‚Ä¢ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è"})]})]})]})]})})]})})},is=({data:r})=>{const[t,n]=_.useState({key:null,direction:"asc"}),[s,a]=_.useState(""),[i,l]=_.useState(1),[x]=_.useState(15),[h,m]=_.useState("overview"),[c,A]=_.useState(new Set);_.useEffect(()=>{l(1)},[s,r]);const u=(g,M="EUR")=>new Intl.NumberFormat("en-US",{style:"currency",currency:M,minimumFractionDigits:0,maximumFractionDigits:2}).format(g),b=g=>{if(!g)return"-";try{return new Date(g).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return g}},p=g=>{switch(g?g.toLowerCase():""){case"success":return"bg-green-500/20 text-green-300 border-green-500/30";case"fail":return"bg-red-500/20 text-red-300 border-red-500/30";case"in_process":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"user_input_required":return"bg-blue-500/20 text-blue-300 border-blue-500/30";default:return"bg-gray-500/20 text-gray-300 border-gray-500/30"}},N=g=>{switch(g?g.toLowerCase():""){case"success":return"–£—Å–ø–µ—à–Ω–æ";case"fail":return"–û—à–∏–±–∫–∞";case"in_process":return"–í –ø—Ä–æ—Ü–µ—Å—Å–µ";case"user_input_required":return"–¢—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞";default:return g||"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"}},f=(g,M)=>M?Be:K,k=g=>g?"text-yellow-400":"text-blue-400",w=r.filter(g=>{const M=s.toLowerCase();return g.id&&g.id.toString().toLowerCase().includes(M)||g.referenceId&&g.referenceId.toLowerCase().includes(M)||g.clientOperationId&&g.clientOperationId.toLowerCase().includes(M)||g.status&&g.status.toLowerCase().includes(M)||g.project&&g.project.toLowerCase().includes(M)||g.userId&&g.userId.toString().toLowerCase().includes(M)||g.paymentMethodCode&&g.paymentMethodCode.toLowerCase().includes(M)||g.amount&&g.amount.toString().includes(M)}),I=[...w].sort((g,M)=>{if(!t.key)return 0;const O=g[t.key]||"",V=M[t.key]||"";if(t.key==="amount"||t.key==="fee")return t.direction==="asc"?parseFloat(O)-parseFloat(V):parseFloat(V)-parseFloat(O);if(t.key==="createdAt"||t.key==="modifiedAt"){const R=new Date(O),F=new Date(V);return t.direction==="asc"?R-F:F-R}const G=O.toString().localeCompare(V.toString());return t.direction==="asc"?G:-G}),o=Math.ceil(I.length/x),y=(i-1)*x,j=I.slice(y,y+x),v=g=>{n(M=>({key:g,direction:M.key===g&&M.direction==="asc"?"desc":"asc"}))},d=g=>{const M=new Set(c);M.has(g)?M.delete(g):M.add(g),A(M)},C=({columnKey:g})=>t.key!==g?e.jsx(J,{className:"w-4 h-4 text-gray-400"}):t.direction==="asc"?e.jsx(Se,{className:"w-4 h-4 text-blue-400"}):e.jsx(J,{className:"w-4 h-4 text-blue-400"}),T=[{id:"overview",label:"–û–±–∑–æ—Ä",icon:xe},{id:"detailed",label:"–î–µ—Ç–∞–ª–∏",icon:W},{id:"cards",label:"–ö–∞—Ä—Ç—ã",icon:K},{id:"rates",label:"–ö—É—Ä—Å—ã",icon:Z}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ API"}),e.jsxs("p",{className:"text-gray-300",children:[w.length," –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ ",r.length," ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"]})]}),e.jsx("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl p-1 border border-white/10",children:T.map(({id:g,label:M,icon:O})=>e.jsxs("button",{onClick:()=>m(g),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-200 ${h===g?"bg-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:M})]},g))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ ID, —Å—Ç–∞—Ç—É—Å—É, –ø—Ä–æ–µ–∫—Ç—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é...",value:s,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-400",children:[w.length," —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"]})]}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center space-x-2",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"–≠–∫—Å–ø–æ—Ä—Ç"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"–í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π",value:r.length,color:"text-blue-400",icon:Z},{label:"–£—Å–ø–µ—à–Ω—ã–µ",value:r.filter(g=>g.isCompleted).length,color:"text-green-400",icon:se},{label:"–°—É–º–º–∞ —É—Å–ø–µ—à–Ω—ã—Ö",value:u(r.filter(g=>g.isCompleted).reduce((g,M)=>g+parseFloat(M.amount||0),0),"EUR"),color:"text-green-400",icon:B,isAmount:!0},{label:"–í –ø—Ä–æ—Ü–µ—Å—Å–µ/–û—à–∏–±–∫–∞",value:r.filter(g=>!g.isCompleted).length,color:"text-yellow-400",icon:ve}].map((g,M)=>{const O=g.icon;return e.jsx($,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:g.label}),e.jsx("p",{className:`text-2xl font-bold ${g.isAmount?g.color:"text-white"}`,children:g.value})]}),e.jsx(O,{className:`w-8 h-8 ${g.color}`})]})})},M)})}),e.jsxs($,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-white/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{children:"–î–µ—Ç–∞–ª–∏"})})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>v("status"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°—Ç–∞—Ç—É—Å"}),e.jsx(C,{columnKey:"status"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:"–¢–∏–ø –ø–ª–∞—Ç–µ–∂–∞"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>v("amount"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°—É–º–º–∞"}),e.jsx(C,{columnKey:"amount"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>v("project"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–ü—Ä–æ–µ–∫—Ç"}),e.jsx(C,{columnKey:"project"})]})}),e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white cursor-pointer hover:bg-white/10",onClick:()=>v("createdAt"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"–°–æ–∑–¥–∞–Ω–æ"}),e.jsx(C,{columnKey:"createdAt"})]})}),h==="detailed"&&e.jsx("th",{className:"px-4 py-4 text-left text-sm font-semibold text-white",children:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:j.map((g,M)=>{const O=c.has(g.id),V=f(g.paymentMethodType,g.isCrypto);return e.jsxs(Oe.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-white/5 transition-colors duration-200",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsxs("button",{onClick:()=>d(g.id),className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white",children:[O?e.jsx(Mt,{className:"w-4 h-4"}):e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-mono text-xs",children:g.referenceId?g.referenceId.slice(-8):g.id.slice(-8)})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${p(g.status)}`,children:N(g.status)}),g.operationState&&g.operationState!==g.status&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:g.operationState})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:`w-4 h-4 ${k(g.isCrypto)}`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"–ü–ª–∞—Ç–µ–∂"}),e.jsx("div",{className:"text-xs text-gray-400",children:g.paymentMethodCode||"API"})]})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:u(g.amount,g.currency)}),g.fee>0&&e.jsxs("div",{className:"text-xs text-gray-400",children:["–ö–æ–º–∏—Å—Å–∏—è: ",u(g.fee,g.currency)]})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"w-4 h-4 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-white",children:["ID: ",g.userId]}),g.ipAddress&&e.jsxs("div",{className:"text-xs text-gray-400",children:["IP: ",g.ipAddress]})]})]})}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:g.project}),e.jsx("div",{className:"text-xs text-gray-400",children:g.credentialsOwner})]}),e.jsxs("td",{className:"px-4 py-4",children:[e.jsx("div",{className:"text-sm text-gray-300",children:b(g.createdAt)}),g.modifiedAt&&g.modifiedAt!==g.createdAt&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["–ò–∑–º–µ–Ω–µ–Ω–æ: ",b(g.modifiedAt)]})]}),h==="detailed"&&e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[g.cardInfo&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:"text-gray-400",children:"–ö–∞—Ä—Ç–∞"})]}),g.cardFinishInfo&&g.cardFinishInfo.is3DSecureAttempted&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-green-400",children:"3D Secure"})]}),g.hasCallbacks&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"w-3 h-3 text-blue-400"}),e.jsx("span",{className:"text-blue-400",children:"Callbacks"})]})]})})]}),O&&e.jsx("tr",{children:e.jsx("td",{colSpan:h==="detailed"?8:7,className:"px-4 py-6 bg-white/5",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsx($,{variant:"glass",children:e.jsxs(E,{className:"p-4",children:[e.jsx("h4",{className:"font-medium text-white mb-3",children:"–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Reference ID:"}),e.jsx("span",{className:"text-white font-mono text-xs",children:g.referenceId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Client Operation ID:"}),e.jsx("span",{className:"text-white font-mono text-xs",children:g.clientOperationId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–ü—Ä–æ–¥—É–∫—Ç:"}),e.jsx("span",{className:"text-white",children:g.paymentProduct})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:"}),e.jsx("span",{className:"text-white",children:g.integrationType})]})]})]})}),g.cardInfo&&e.jsx($,{variant:"glass",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4"}),"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:"}),e.jsx("span",{className:"text-white font-mono",children:g.cardInfo.cardNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"PAN Token:"}),e.jsx("span",{className:"text-white font-mono text-xs",children:g.cardInfo.panToken})]}),g.cardInfo.paymentMethodName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–ú–µ—Ç–æ–¥:"}),e.jsx("span",{className:"text-white",children:g.cardInfo.paymentMethodName})]}),g.cardFinishInfo&&g.cardFinishInfo.mccCode&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"MCC Code:"}),e.jsx("span",{className:"text-white",children:g.cardFinishInfo.mccCode})]})]})]})}),e.jsx($,{variant:"glass",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:"}),e.jsx("span",{className:"text-white",children:g.dataSource})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"–¢–∏–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:"}),e.jsx("span",{className:"text-white",children:g.integrationType})]})]})]})})]})})})]},g.id||M)})})]})}),o>1&&e.jsxs("div",{className:"bg-white/5 px-6 py-4 flex items-center justify-between border-t border-white/10",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["–°—Ç—Ä–∞–Ω–∏—Ü–∞ ",i," –∏–∑ ",o," ‚Ä¢ –ü–æ–∫–∞–∑–∞–Ω–æ ",j.length," –∏–∑ ",w.length]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(Math.max(1,i-1)),disabled:i===1,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–ü—Ä–µ–¥—ã–¥—É—â–∞—è"}),e.jsx("button",{onClick:()=>l(Math.min(o,i+1)),disabled:i===o,className:"px-3 py-1 bg-white/10 text-white rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:"–°–ª–µ–¥—É—é—â–∞—è"})]})]})]})]})},Ee=({onFilesUploaded:r})=>{const[t,n]=_.useState(null),[s,a]=_.useState(null),[i,l]=_.useState(!1),x=(m,c)=>{c==="merchant"?n(m):c==="platform"&&a(m)},h=async()=>{if(!t||!s){alert("–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–∞ —Ñ–∞–π–ª–∞ –¥–ª—è —Å–≤–µ—Ä–∫–∏");return}l(!0),console.log("üîÑ Starting reconciliation process...");try{if(!await ts())throw new Error("–°–µ—Ä–≤–µ—Ä —Å–≤–µ—Ä–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.");const c=await es(t,s);console.log("‚úÖ Reconciliation completed:",c),r({results:c,metadata:c.metadata,merchantFileName:t.name,platformFileName:s.name})}catch(m){console.error("‚ùå Error during reconciliation:",m),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–≤–µ—Ä–∫–µ —Ñ–∞–π–ª–æ–≤: "+m.message)}finally{l(!1)}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üîÑ –°–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π"}),e.jsx("p",{className:"text-gray-600",children:"–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–≤–µ—Ä–∫–∏"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-400 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"üìä –§–∞–π–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Tracking ID, Status, Amount...)"}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:m=>x(m.target.files[0],"merchant"),className:"hidden",id:"merchant-upload"}),e.jsxs("label",{htmlFor:"merchant-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª"]}),t&&e.jsxs("div",{className:"mt-3 flex items-center justify-center text-green-600",children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:t.name})]})]})}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-green-400 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Q,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"üè¶ –§–∞–π–ª –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Foreign Operation ID, Status...)"}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:m=>x(m.target.files[0],"platform"),className:"hidden",id:"platform-upload"}),e.jsxs("label",{htmlFor:"platform-upload",className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 cursor-pointer transition-colors",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª"]}),s&&e.jsxs("div",{className:"mt-3 flex items-center justify-center text-green-600",children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:s.name})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"üîó –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:"})}),e.jsx("p",{className:"text-gray-600",children:"Foreign Operation Id (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞) ‚Üî Tracking Id (–ø—Ä–æ–≤–∞–π–¥–µ—Ä)"})]}),e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"–°—Ç–∞—Ç—É—Å:"})}),e.jsx("p",{className:"text-gray-600",children:"success (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞) ‚Üî completed (–ø—Ä–æ–≤–∞–π–¥–µ—Ä)"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:h,disabled:!t||!s||i,className:"inline-flex items-center px-8 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"–û–±—Ä–∞–±–æ—Ç–∫–∞..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–µ—Ä–∫—É"]})})})]})},cs=({reconciliationData:r,onBack:t})=>{const[n,s]=_.useState("all"),[a,i]=_.useState("id"),[l,x]=_.useState("asc"),h=_.useMemo(()=>{if(!r||!Array.isArray(r))return[];let u=[...r];switch(n){case"matched":u=u.filter(b=>!b.hasIssue);break;case"issues":u=u.filter(b=>b.hasIssue);break;case"status_mismatch":u=u.filter(b=>{var p;return(p=b.issueType)==null?void 0:p.includes("status")});break;case"amount_mismatch":u=u.filter(b=>{var p;return(p=b.issueType)==null?void 0:p.includes("amount")});break;case"missing":u=u.filter(b=>{var p;return(p=b.issueType)==null?void 0:p.includes("missing")});break}return u.sort((b,p)=>{let N=b[a]||"",f=p[a]||"";return typeof N=="number"&&typeof f=="number"?l==="asc"?N-f:f-N:(N=String(N).toLowerCase(),f=String(f).toLowerCase(),l==="asc"?N<f?-1:N>f?1:0:N>f?-1:N<f?1:0)}),u},[r,n,a,l]),m=_.useMemo(()=>{if(!r||!Array.isArray(r))return{total:0,matched:0,issues:0,statusMismatch:0,amountMismatch:0,missing:0,matchRate:"0"};const u=r.length,b=r.filter(w=>!w.hasIssue).length,p=r.filter(w=>w.hasIssue).length,N=r.filter(w=>{var I;return(I=w.issueType)==null?void 0:I.includes("status")}).length,f=r.filter(w=>{var I;return(I=w.issueType)==null?void 0:I.includes("amount")}).length,k=r.filter(w=>{var I;return(I=w.issueType)==null?void 0:I.includes("missing")}).length;return{total:u,matched:b,issues:p,statusMismatch:N,amountMismatch:f,missing:k,matchRate:u>0?(b/u*100).toFixed(1):"0"}},[r]),c=u=>{if(!u.hasIssue)return"bg-green-50 hover:bg-green-100";switch(u.issueType){case"status":return"bg-yellow-50 hover:bg-yellow-100 border-l-4 border-yellow-400";case"amount":return"bg-orange-50 hover:bg-orange-100 border-l-4 border-orange-400";case"status, amount":return"bg-red-50 hover:bg-red-100 border-l-4 border-red-400";case"missing_platform":return"bg-blue-50 hover:bg-blue-100 border-l-4 border-blue-400";case"missing_merchant":return"bg-purple-50 hover:bg-purple-100 border-l-4 border-purple-400";default:return"bg-gray-50 hover:bg-gray-100"}},A=u=>{if(!u.hasIssue)return e.jsx(ae,{className:"h-5 w-5 text-green-600"});switch(u.issueType){case"status":case"amount":return e.jsx(te,{className:"h-5 w-5 text-yellow-600"});case"status, amount":return e.jsx(We,{className:"h-5 w-5 text-red-600"});case"missing_platform":case"missing_merchant":return e.jsx(Q,{className:"h-5 w-5 text-blue-600"});default:return e.jsx(te,{className:"h-5 w-5 text-gray-600"})}};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"üîÑ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–≤–µ—Ä–∫–∏"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"})]}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"‚Üê –ù–∞–∑–∞–¥"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg shadow border border-green-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-700",children:m.matched}),e.jsx("div",{className:"text-sm text-green-600",children:"–°–æ–≤–ø–∞–¥–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg shadow border border-red-200",children:[e.jsx("div",{className:"text-2xl font-bold text-red-700",children:m.issues}),e.jsx("div",{className:"text-sm text-red-600",children:"–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg shadow border border-yellow-200",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:m.statusMismatch}),e.jsx("div",{className:"text-sm text-yellow-600",children:"–ü–æ —Å—Ç–∞—Ç—É—Å—É"})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg shadow border border-orange-200",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700",children:m.amountMismatch}),e.jsx("div",{className:"text-sm text-orange-600",children:"–ü–æ —Å—É–º–º–µ"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg shadow border border-blue-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700",children:m.missing}),e.jsx("div",{className:"text-sm text-blue-600",children:"–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-6 w-6 text-blue-600 mr-2"}),e.jsx("span",{className:"text-lg font-semibold",children:"–ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[m.matchRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.matchRate}%`}})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(W,{className:"h-4 w-4 mr-2 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"–§–∏–ª—å—Ç—Ä:"}),e.jsxs("select",{value:n,onChange:u=>s(u.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm",children:[e.jsxs("option",{value:"all",children:["–í—Å–µ –∑–∞–ø–∏—Å–∏ (",m.total,")"]}),e.jsxs("option",{value:"matched",children:["–°–æ–≤–ø–∞–¥–µ–Ω–∏—è (",m.matched,")"]}),e.jsxs("option",{value:"issues",children:["–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è (",m.issues,")"]}),e.jsxs("option",{value:"status_mismatch",children:["–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (",m.statusMismatch,")"]}),e.jsxs("option",{value:"amount_mismatch",children:["–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Å—É–º–º (",m.amountMismatch,")"]}),e.jsxs("option",{value:"missing",children:["–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ (",m.missing,")"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:"}),e.jsxs("select",{value:a,onChange:u=>i(u.target.value),className:"border border-gray-300 rounded px-3 py-1 text-sm mr-2",children:[e.jsx("option",{value:"id",children:"ID"}),e.jsx("option",{value:"merchantStatus",children:"–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"}),e.jsx("option",{value:"platformStatus",children:"–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"}),e.jsx("option",{value:"merchantAmount",children:"–°—É–º–º–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"}),e.jsx("option",{value:"platformAmount",children:"–°—É–º–º–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"})]}),e.jsx("button",{onClick:()=>x(l==="asc"?"desc":"asc"),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:l==="asc"?"‚Üë":"‚Üì"})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:"text-sm text-gray-600",children:["–ü–æ–∫–∞–∑–∞–Ω–æ: ",h.length," –∏–∑ ",m.total]})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"–°—Ç–∞—Ç—É—Å"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"–ü—Ä–æ–≤–∞–π–¥–µ—Ä"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map((u,b)=>{var p,N,f,k,w,I,o;return e.jsxs("tr",{className:c(u),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:A(u)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.merchantId||u.platformId||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:u.matchType})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.merchantData?e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:"–°—Ç–∞—Ç—É—Å:"})," ",u.merchantStatus]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"–°—É–º–º–∞:"})," ",(p=u.merchantAmount)==null?void 0:p.toFixed(2)," TRY"]})]}):e.jsx("div",{className:"text-sm text-gray-400 italic",children:"–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.platformData?e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:"–°—Ç–∞—Ç—É—Å:"})," ",u.platformStatus]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"–°—É–º–º–∞:"})," ",(N=u.platformAmount)==null?void 0:N.toFixed(2)," TRY"]})]}):e.jsx("div",{className:"text-sm text-gray-400 italic",children:"–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.hasIssue?e.jsxs("div",{className:"text-sm",children:[((f=u.issueType)==null?void 0:f.includes("status"))&&e.jsxs("div",{className:"text-yellow-700 mb-1",children:["üìä –°—Ç–∞—Ç—É—Å: ",u.merchantStatus," ‚â† ",u.platformStatus]}),((k=u.issueType)==null?void 0:k.includes("amount"))&&e.jsxs("div",{className:"text-orange-700 mb-1",children:["üí∞ –°—É–º–º–∞: ",(w=u.merchantAmount)==null?void 0:w.toFixed(2)," ‚â† ",(I=u.platformAmount)==null?void 0:I.toFixed(2)]}),((o=u.issueType)==null?void 0:o.includes("missing"))&&e.jsxs("div",{className:"text-blue-700",children:["üìÑ ",u.issueType==="missing_platform"?"–ù–µ—Ç –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ":"–ù–µ—Ç —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞"]})]}):e.jsx("div",{className:"text-green-600 text-sm",children:"‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ"})})]},`${u.id||u.merchantId||u.platformId||"unknown"}_${b}`)})})]})})}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Q,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"}),e.jsx("p",{className:"text-gray-600",children:"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã"})]})]})};function os(r){const t=[];if(!r||typeof r!="object")return console.error("‚ùå Invalid reconciliation results:",r),[];const{matched:n=[],statusMismatch:s=[],merchantOnly:a=[],platformOnly:i=[]}=r;return console.log("üìã Formatting data:",{matched:n.length,statusMismatch:s.length,merchantOnly:a.length,platformOnly:i.length}),a.forEach(l=>{var x,h,m,c,A,u;t.push({id:((x=l.merchant)==null?void 0:x.trackingId)||l.trackingId||"N/A",merchantId:((h=l.merchant)==null?void 0:h.trackingId)||l.trackingId||"N/A",platformId:null,merchantStatus:((m=l.merchant)==null?void 0:m.status)||l.status||"N/A",platformStatus:null,merchantData:{status:((c=l.merchant)==null?void 0:c.status)||l.status||"N/A",id:((A=l.merchant)==null?void 0:A.trackingId)||l.trackingId||"N/A",amount:((u=l.merchant)==null?void 0:u.amount)||l.amount||"N/A"},platformData:null,reconciliationStatus:"merchant_only",matchType:"no_match",hasIssue:!0,issueType:"missing_platform"})}),i.forEach(l=>{var x,h,m,c,A,u;t.push({id:((x=l.platform)==null?void 0:x.foreignOperationId)||l.foreignOperationId||"N/A",merchantId:null,platformId:((h=l.platform)==null?void 0:h.foreignOperationId)||l.foreignOperationId||"N/A",merchantStatus:null,platformStatus:((m=l.platform)==null?void 0:m.status)||l.status||"N/A",merchantData:null,platformData:{status:((c=l.platform)==null?void 0:c.status)||l.status||"N/A",id:((A=l.platform)==null?void 0:A.foreignOperationId)||l.foreignOperationId||"N/A",amount:((u=l.platform)==null?void 0:u.amount)||l.amount||"N/A"},reconciliationStatus:"platform_only",matchType:"no_match",hasIssue:!0,issueType:"missing_merchant"})}),s.forEach(l=>{var m,c,A,u,b,p,N,f,k,w;const x=((m=l.merchant)==null?void 0:m.trackingId)||l.trackingId||"N/A",h=((c=l.platform)==null?void 0:c.foreignOperationId)||l.foreignOperationId||"N/A";t.push({id:x,merchantId:x,platformId:h,merchantStatus:((A=l.merchant)==null?void 0:A.status)||l.status||"N/A",platformStatus:((u=l.platform)==null?void 0:u.status)||l.status||"N/A",merchantAmount:((b=l.merchant)==null?void 0:b.amount)||l.amount||"N/A",platformAmount:((p=l.platform)==null?void 0:p.amount)||l.amount||"N/A",merchantData:{status:((N=l.merchant)==null?void 0:N.status)||l.status||"N/A",id:x,amount:((f=l.merchant)==null?void 0:f.amount)||l.amount||"N/A"},platformData:{status:((k=l.platform)==null?void 0:k.status)||l.status||"N/A",id:h,amount:((w=l.platform)==null?void 0:w.amount)||l.amount||"N/A"},reconciliationStatus:l.reconciliationStatus||"status_mismatch",matchType:l.matchType||"status_mismatch",hasIssue:!0,issueType:l.issueType||"status"})}),n.forEach(l=>{var m,c,A,u,b,p,N,f,k,w;const x=((m=l.merchant)==null?void 0:m.trackingId)||l.trackingId||"N/A",h=((c=l.platform)==null?void 0:c.foreignOperationId)||l.foreignOperationId||"N/A";t.push({id:x,merchantId:x,platformId:h,merchantStatus:((A=l.merchant)==null?void 0:A.status)||l.status||"N/A",platformStatus:((u=l.platform)==null?void 0:u.status)||l.status||"N/A",merchantAmount:((b=l.merchant)==null?void 0:b.amount)||l.amount||"N/A",platformAmount:((p=l.platform)==null?void 0:p.amount)||l.amount||"N/A",merchantData:{status:((N=l.merchant)==null?void 0:N.status)||l.status||"N/A",id:x,amount:((f=l.merchant)==null?void 0:f.amount)||l.amount||"N/A"},platformData:{status:((k=l.platform)==null?void 0:k.status)||l.status||"N/A",id:h,amount:((w=l.platform)==null?void 0:w.amount)||l.amount||"N/A"},reconciliationStatus:"matched",matchType:"full_match",hasIssue:!1})}),console.log("‚úÖ Formatted records:",t.length),t}const ds=()=>{const[r,t]=_.useState("upload"),[n,s]=_.useState(null),[a,i]=_.useState(!1),l=async h=>{i(!0),console.log("üîÑ Processing reconciliation results...",h);try{if(!h||!h.results)throw new Error("–ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞");const m=h.results;console.log("üìä Raw results from server:",m);const c=os(m);console.log("‚úÖ Reconciliation completed:",{totalRecords:c.length,summary:m.summary,formattedDataSample:c.slice(0,3)}),s({formattedData:c,rawResults:m,metadata:h.metadata,fileNames:{merchant:h.merchantFileName,platform:h.platformFileName}}),t("results")}catch(m){console.error("‚ùå Reconciliation error:",m),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–≤–µ—Ä–∫–∏: "+m.message)}finally{i(!1)}},x=()=>{t("upload"),s(null)};if(a)return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"üîÑ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–≤–µ—Ä–∫–∞..."}),e.jsx("p",{className:"text-gray-600",children:"–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –∏—â–µ–º —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π"}),e.jsx("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("div",{children:"‚úÖ –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã"}),e.jsx("div",{children:"üîç –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞..."}),e.jsx("div",{children:"üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π..."}),e.jsx("div",{children:"üéØ –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π..."})]})})]})});switch(r){case"upload":return e.jsx(Ee,{onFilesUploaded:l});case"results":return e.jsx(cs,{reconciliationData:n.formattedData,rawResults:n.rawResults,fileNames:n.fileNames,onBack:x});default:return e.jsx(Ee,{onFilesUploaded:l})}};function ms(){console.log("App component rendering...");const[r,t]=_.useState("selector"),[n,s]=_.useState(null),[a,i]=_.useState(null),[l,x]=_.useState(null),[h,m]=_.useState(!1),c=N=>{s(N),N==="csv"?t("csv"):N==="api"?t("api"):N==="enhanced-api"&&t("enhanced-api")},A=(N,f)=>{console.log("API data loaded:",N.length,"items");const k=Qt(N);i(k),t("dashboard")},u=(N,f)=>{console.log("Enhanced API data loaded:",N.length,"items"),x(N),t("enhanced-dashboard")},b=()=>{t("selector"),s(null),i(null),x(null)},p=()=>{t("reconciliation")};return e.jsxs("div",{className:"App",children:[r==="selector"&&e.jsx(Ht,{onSourceChange:c,currentSource:n,onReconciliationClick:p}),r==="csv"&&e.jsx(Le,{dataSource:"csv",onBackToSelector:b}),r==="api"&&e.jsx(ss,{onDataLoad:A,loading:h,setLoading:m,onBack:b}),r==="enhanced-api"&&e.jsx(ls,{onDataLoad:u,loading:h,setLoading:m,onBack:b}),r==="dashboard"&&a&&e.jsx(Le,{dataSource:"api",preloadedData:a,onBackToSelector:b}),r==="enhanced-dashboard"&&l&&e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:b,className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200",children:"‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞"})}),e.jsx(is,{data:l})]}),r==="reconciliation"&&e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:b,className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-colors duration-200",children:"‚Üê –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞"})}),e.jsx(ds,{})]})]})}je.createRoot(document.getElementById("root")).render(e.jsx(Oe.StrictMode,{children:e.jsx(ms,{})}));
